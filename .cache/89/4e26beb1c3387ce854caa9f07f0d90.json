{"id":"Uzoo","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1724625312988},{"name":"three","loc":{"line":1,"column":75,"index":75},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/webxr/XREstimatedLight.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three/build/three.module.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.XREstimatedLight=void 0;var t=require(\"three\");class i{constructor(i,e,n,s,r){this.xrLight=i,this.renderer=e,this.lightProbe=n,this.xrWebGLBinding=null,this.estimationStartCallback=r,this.frameCallback=this.onXRFrame.bind(this);const h=e.xr.getSession();if(s&&\"XRWebGLBinding\"in window){const n=new t.WebGLCubeRenderTarget(16);i.environment=n.texture;const s=e.getContext();switch(h.preferredReflectionFormat){case\"srgba8\":s.getExtension(\"EXT_sRGB\");break;case\"rgba16f\":s.getExtension(\"OES_texture_half_float\")}this.xrWebGLBinding=new XRWebGLBinding(h,s),this.lightProbe.addEventListener(\"reflectionchange\",()=>{this.updateReflection()})}h.requestAnimationFrame(this.frameCallback)}updateReflection(){const t=this.renderer.properties.get(this.xrLight.environment);if(t){const i=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);i&&(t.__webglTexture=i,this.xrLight.environment.needsPMREMUpdate=!0)}}onXRFrame(t,i){if(!this.xrLight)return;i.session.requestAnimationFrame(this.frameCallback);const e=i.getLightEstimate(this.lightProbe);if(e){this.xrLight.lightProbe.sh.fromArray(e.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const t=Math.max(1,Math.max(e.primaryLightIntensity.x,Math.max(e.primaryLightIntensity.y,e.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(e.primaryLightIntensity.x/t,e.primaryLightIntensity.y/t,e.primaryLightIntensity.z/t),this.xrLight.directionalLight.intensity=t,this.xrLight.directionalLight.position.copy(e.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class e extends t.Group{constructor(e,n=!0){super(),this.lightProbe=new t.LightProbe,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new t.DirectionalLight,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let s=null,r=!1;e.xr.addEventListener(\"sessionstart\",()=>{const t=e.xr.getSession();\"requestLightProbe\"in t&&t.requestLightProbe({reflectionFormat:t.preferredReflectionFormat}).then(t=>{s=new i(this,e,t,n,()=>{r=!0,this.dispatchEvent({type:\"estimationstart\"})})})}),e.xr.addEventListener(\"sessionend\",()=>{s&&(s.dispose(),s=null),r&&this.dispatchEvent({type:\"estimationend\"})}),this.dispose=(()=>{s&&(s.dispose(),s=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null})}}exports.XREstimatedLight=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":151,"column":1},"generated":{"line":1,"column":98}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"_three","original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":1,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":3,"column":0},"generated":{"line":1,"column":123}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"SessionLightProbe","original":{"line":3,"column":6},"generated":{"line":1,"column":129}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"constructor","original":{"line":4,"column":2},"generated":{"line":1,"column":131}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":4,"column":14},"generated":{"line":1,"column":143}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":4,"column":23},"generated":{"line":1,"column":145}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":4,"column":33},"generated":{"line":1,"column":147}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environmentEstimation","original":{"line":4,"column":45},"generated":{"line":1,"column":149}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStartCallback","original":{"line":4,"column":68},"generated":{"line":1,"column":151}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":5,"column":4},"generated":{"line":1,"column":154}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":5,"column":9},"generated":{"line":1,"column":159}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":5,"column":19},"generated":{"line":1,"column":167}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":6,"column":4},"generated":{"line":1,"column":169}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":6,"column":9},"generated":{"line":1,"column":174}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":6,"column":20},"generated":{"line":1,"column":183}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":7,"column":4},"generated":{"line":1,"column":185}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":7,"column":9},"generated":{"line":1,"column":190}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":7,"column":22},"generated":{"line":1,"column":201}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":8,"column":4},"generated":{"line":1,"column":203}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrWebGLBinding","original":{"line":8,"column":9},"generated":{"line":1,"column":208}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":8,"column":26},"generated":{"line":1,"column":223}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":9,"column":4},"generated":{"line":1,"column":228}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStartCallback","original":{"line":9,"column":9},"generated":{"line":1,"column":233}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStartCallback","original":{"line":9,"column":35},"generated":{"line":1,"column":257}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":10,"column":4},"generated":{"line":1,"column":259}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"frameCallback","original":{"line":10,"column":9},"generated":{"line":1,"column":264}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":10,"column":25},"generated":{"line":1,"column":278}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"onXRFrame","original":{"line":10,"column":30},"generated":{"line":1,"column":283}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"bind","original":{"line":10,"column":40},"generated":{"line":1,"column":293}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":10,"column":45},"generated":{"line":1,"column":298}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":11,"column":4},"generated":{"line":1,"column":304}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":11,"column":10},"generated":{"line":1,"column":310}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":11,"column":20},"generated":{"line":1,"column":312}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xr","original":{"line":11,"column":29},"generated":{"line":1,"column":314}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"getSession","original":{"line":11,"column":32},"generated":{"line":1,"column":317}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":14,"column":4},"generated":{"line":1,"column":330}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environmentEstimation","original":{"line":14,"column":8},"generated":{"line":1,"column":333}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":14,"column":33},"generated":{"line":1,"column":336}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"window","original":{"line":14,"column":53},"generated":{"line":1,"column":355}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":14,"column":61},"generated":{"line":1,"column":362}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":16,"column":6},"generated":{"line":1,"column":363}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"cubeRenderTarget","original":{"line":16,"column":12},"generated":{"line":1,"column":369}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":16,"column":31},"generated":{"line":1,"column":371}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"WebGLCubeRenderTarget","original":{"line":16,"column":35},"generated":{"line":1,"column":375}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":16,"column":56},"generated":{"line":1,"column":377}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":16,"column":57},"generated":{"line":1,"column":399}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":17,"column":6},"generated":{"line":1,"column":403}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environment","original":{"line":17,"column":14},"generated":{"line":1,"column":405}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"cubeRenderTarget","original":{"line":17,"column":28},"generated":{"line":1,"column":417}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"texture","original":{"line":17,"column":45},"generated":{"line":1,"column":419}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":18,"column":6},"generated":{"line":1,"column":427}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"gl","original":{"line":18,"column":12},"generated":{"line":1,"column":433}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":18,"column":17},"generated":{"line":1,"column":435}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"getContext","original":{"line":18,"column":26},"generated":{"line":1,"column":437}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":20,"column":6},"generated":{"line":1,"column":450}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":20,"column":14},"generated":{"line":1,"column":457}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"preferredReflectionFormat","original":{"line":20,"column":22},"generated":{"line":1,"column":459}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":21,"column":8},"generated":{"line":1,"column":486}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":21,"column":13},"generated":{"line":1,"column":490}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"gl","original":{"line":22,"column":10},"generated":{"line":1,"column":499}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"getExtension","original":{"line":22,"column":13},"generated":{"line":1,"column":501}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":22,"column":26},"generated":{"line":1,"column":514}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":23,"column":10},"generated":{"line":1,"column":526}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":25,"column":8},"generated":{"line":1,"column":532}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":25,"column":13},"generated":{"line":1,"column":536}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"gl","original":{"line":26,"column":10},"generated":{"line":1,"column":546}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"getExtension","original":{"line":26,"column":13},"generated":{"line":1,"column":548}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":26,"column":26},"generated":{"line":1,"column":561}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":30,"column":6},"generated":{"line":1,"column":587}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrWebGLBinding","original":{"line":30,"column":11},"generated":{"line":1,"column":592}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":30,"column":28},"generated":{"line":1,"column":607}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"XRWebGLBinding","original":{"line":30,"column":32},"generated":{"line":1,"column":611}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":30,"column":47},"generated":{"line":1,"column":626}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"gl","original":{"line":30,"column":56},"generated":{"line":1,"column":628}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":31,"column":6},"generated":{"line":1,"column":631}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":31,"column":11},"generated":{"line":1,"column":636}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"addEventListener","original":{"line":31,"column":22},"generated":{"line":1,"column":647}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":31,"column":39},"generated":{"line":1,"column":664}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":31,"column":59},"generated":{"line":1,"column":683}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":32,"column":8},"generated":{"line":1,"column":688}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"updateReflection","original":{"line":32,"column":13},"generated":{"line":1,"column":693}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":38,"column":4},"generated":{"line":1,"column":714}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"requestAnimationFrame","original":{"line":38,"column":12},"generated":{"line":1,"column":716}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":38,"column":34},"generated":{"line":1,"column":738}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"frameCallback","original":{"line":38,"column":39},"generated":{"line":1,"column":743}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"updateReflection","original":{"line":41,"column":2},"generated":{"line":1,"column":758}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":42,"column":4},"generated":{"line":1,"column":777}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"textureProperties","original":{"line":42,"column":10},"generated":{"line":1,"column":783}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":42,"column":30},"generated":{"line":1,"column":785}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":42,"column":35},"generated":{"line":1,"column":790}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"properties","original":{"line":42,"column":44},"generated":{"line":1,"column":799}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"get","original":{"line":42,"column":55},"generated":{"line":1,"column":810}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":42,"column":59},"generated":{"line":1,"column":814}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":42,"column":64},"generated":{"line":1,"column":819}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environment","original":{"line":42,"column":72},"generated":{"line":1,"column":827}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":44,"column":4},"generated":{"line":1,"column":840}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"textureProperties","original":{"line":44,"column":8},"generated":{"line":1,"column":843}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":44,"column":27},"generated":{"line":1,"column":845}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":45,"column":6},"generated":{"line":1,"column":846}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"cubeMap","original":{"line":45,"column":12},"generated":{"line":1,"column":852}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":45,"column":22},"generated":{"line":1,"column":854}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrWebGLBinding","original":{"line":45,"column":27},"generated":{"line":1,"column":859}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"getReflectionCubeMap","original":{"line":45,"column":42},"generated":{"line":1,"column":874}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":45,"column":63},"generated":{"line":1,"column":895}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":45,"column":68},"generated":{"line":1,"column":900}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"cubeMap","original":{"line":47,"column":10},"generated":{"line":1,"column":912}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"textureProperties","original":{"line":48,"column":8},"generated":{"line":1,"column":916}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"__webglTexture","original":{"line":48,"column":26},"generated":{"line":1,"column":918}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"cubeMap","original":{"line":48,"column":43},"generated":{"line":1,"column":933}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":49,"column":8},"generated":{"line":1,"column":935}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":49,"column":13},"generated":{"line":1,"column":940}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environment","original":{"line":49,"column":21},"generated":{"line":1,"column":948}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"needsPMREMUpdate","original":{"line":49,"column":33},"generated":{"line":1,"column":960}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":49,"column":52},"generated":{"line":1,"column":978}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"onXRFrame","original":{"line":54,"column":2},"generated":{"line":1,"column":982}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"time","original":{"line":54,"column":12},"generated":{"line":1,"column":992}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrFrame","original":{"line":54,"column":18},"generated":{"line":1,"column":994}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":57,"column":4},"generated":{"line":1,"column":997}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":57,"column":9},"generated":{"line":1,"column":1001}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":57,"column":14},"generated":{"line":1,"column":1006}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":58,"column":6},"generated":{"line":1,"column":1014}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrFrame","original":{"line":61,"column":20},"generated":{"line":1,"column":1021}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":61,"column":28},"generated":{"line":1,"column":1023}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"requestAnimationFrame","original":{"line":62,"column":12},"generated":{"line":1,"column":1031}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":62,"column":34},"generated":{"line":1,"column":1053}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"frameCallback","original":{"line":62,"column":39},"generated":{"line":1,"column":1058}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":63,"column":4},"generated":{"line":1,"column":1073}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":63,"column":10},"generated":{"line":1,"column":1079}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrFrame","original":{"line":63,"column":26},"generated":{"line":1,"column":1081}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"getLightEstimate","original":{"line":63,"column":34},"generated":{"line":1,"column":1083}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":63,"column":51},"generated":{"line":1,"column":1100}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":63,"column":56},"generated":{"line":1,"column":1105}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":65,"column":4},"generated":{"line":1,"column":1117}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":65,"column":8},"generated":{"line":1,"column":1120}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":65,"column":23},"generated":{"line":1,"column":1122}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":67,"column":6},"generated":{"line":1,"column":1123}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":67,"column":11},"generated":{"line":1,"column":1128}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":67,"column":19},"generated":{"line":1,"column":1136}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sh","original":{"line":67,"column":30},"generated":{"line":1,"column":1147}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"fromArray","original":{"line":67,"column":33},"generated":{"line":1,"column":1150}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":67,"column":43},"generated":{"line":1,"column":1160}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sphericalHarmonicsCoefficients","original":{"line":67,"column":57},"generated":{"line":1,"column":1162}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":68,"column":6},"generated":{"line":1,"column":1194}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":68,"column":11},"generated":{"line":1,"column":1199}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":68,"column":19},"generated":{"line":1,"column":1207}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensity","original":{"line":68,"column":30},"generated":{"line":1,"column":1218}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":68,"column":42},"generated":{"line":1,"column":1228}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":71,"column":6},"generated":{"line":1,"column":1230}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensityScalar","original":{"line":71,"column":12},"generated":{"line":1,"column":1236}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"Math","original":{"line":71,"column":30},"generated":{"line":1,"column":1238}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"max","original":{"line":71,"column":35},"generated":{"line":1,"column":1243}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":71,"column":39},"generated":{"line":1,"column":1247}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"Math","original":{"line":71,"column":44},"generated":{"line":1,"column":1249}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"max","original":{"line":71,"column":49},"generated":{"line":1,"column":1254}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":71,"column":53},"generated":{"line":1,"column":1258}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"primaryLightIntensity","original":{"line":71,"column":67},"generated":{"line":1,"column":1260}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"x","original":{"line":71,"column":89},"generated":{"line":1,"column":1282}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"Math","original":{"line":71,"column":92},"generated":{"line":1,"column":1284}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"max","original":{"line":71,"column":97},"generated":{"line":1,"column":1289}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":71,"column":101},"generated":{"line":1,"column":1293}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"primaryLightIntensity","original":{"line":71,"column":115},"generated":{"line":1,"column":1295}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"y","original":{"line":71,"column":137},"generated":{"line":1,"column":1317}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":71,"column":140},"generated":{"line":1,"column":1319}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"primaryLightIntensity","original":{"line":71,"column":154},"generated":{"line":1,"column":1321}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"z","original":{"line":71,"column":176},"generated":{"line":1,"column":1343}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":72,"column":6},"generated":{"line":1,"column":1348}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":72,"column":11},"generated":{"line":1,"column":1353}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":72,"column":19},"generated":{"line":1,"column":1361}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"color","original":{"line":72,"column":36},"generated":{"line":1,"column":1378}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"setRGB","original":{"line":72,"column":42},"generated":{"line":1,"column":1384}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":72,"column":49},"generated":{"line":1,"column":1391}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"primaryLightIntensity","original":{"line":72,"column":63},"generated":{"line":1,"column":1393}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"x","original":{"line":72,"column":85},"generated":{"line":1,"column":1415}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensityScalar","original":{"line":72,"column":89},"generated":{"line":1,"column":1417}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":72,"column":106},"generated":{"line":1,"column":1419}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"primaryLightIntensity","original":{"line":72,"column":120},"generated":{"line":1,"column":1421}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"y","original":{"line":72,"column":142},"generated":{"line":1,"column":1443}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensityScalar","original":{"line":72,"column":146},"generated":{"line":1,"column":1445}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":72,"column":163},"generated":{"line":1,"column":1447}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"primaryLightIntensity","original":{"line":72,"column":177},"generated":{"line":1,"column":1449}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"z","original":{"line":72,"column":199},"generated":{"line":1,"column":1471}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensityScalar","original":{"line":72,"column":203},"generated":{"line":1,"column":1473}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":73,"column":6},"generated":{"line":1,"column":1476}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":73,"column":11},"generated":{"line":1,"column":1481}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":73,"column":19},"generated":{"line":1,"column":1489}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensity","original":{"line":73,"column":36},"generated":{"line":1,"column":1506}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensityScalar","original":{"line":73,"column":48},"generated":{"line":1,"column":1516}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":74,"column":6},"generated":{"line":1,"column":1518}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":74,"column":11},"generated":{"line":1,"column":1523}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":74,"column":19},"generated":{"line":1,"column":1531}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"position","original":{"line":74,"column":36},"generated":{"line":1,"column":1548}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"copy","original":{"line":74,"column":45},"generated":{"line":1,"column":1557}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightEstimate","original":{"line":74,"column":50},"generated":{"line":1,"column":1562}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"primaryLightDirection","original":{"line":74,"column":64},"generated":{"line":1,"column":1564}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":76,"column":10},"generated":{"line":1,"column":1587}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStartCallback","original":{"line":76,"column":15},"generated":{"line":1,"column":1592}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":77,"column":8},"generated":{"line":1,"column":1618}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStartCallback","original":{"line":77,"column":13},"generated":{"line":1,"column":1623}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":78,"column":8},"generated":{"line":1,"column":1649}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStartCallback","original":{"line":78,"column":13},"generated":{"line":1,"column":1654}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":78,"column":39},"generated":{"line":1,"column":1678}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"dispose","original":{"line":83,"column":2},"generated":{"line":1,"column":1685}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":84,"column":4},"generated":{"line":1,"column":1695}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrLight","original":{"line":84,"column":9},"generated":{"line":1,"column":1700}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":84,"column":19},"generated":{"line":1,"column":1708}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":85,"column":4},"generated":{"line":1,"column":1713}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":85,"column":9},"generated":{"line":1,"column":1718}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":85,"column":20},"generated":{"line":1,"column":1727}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":86,"column":4},"generated":{"line":1,"column":1732}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":86,"column":9},"generated":{"line":1,"column":1737}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":86,"column":22},"generated":{"line":1,"column":1748}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":87,"column":4},"generated":{"line":1,"column":1753}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xrWebGLBinding","original":{"line":87,"column":9},"generated":{"line":1,"column":1758}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":87,"column":26},"generated":{"line":1,"column":1773}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1779}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"XREstimatedLight","original":{"line":92,"column":6},"generated":{"line":1,"column":1785}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"Group","original":{"line":92,"column":31},"generated":{"line":1,"column":1795}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":92,"column":36},"generated":{"line":1,"column":1797}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"constructor","original":{"line":93,"column":2},"generated":{"line":1,"column":1803}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":93,"column":14},"generated":{"line":1,"column":1815}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environmentEstimation","original":{"line":93,"column":24},"generated":{"line":1,"column":1817}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":93,"column":48},"generated":{"line":1,"column":1820}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":94,"column":4},"generated":{"line":1,"column":1823}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":95,"column":4},"generated":{"line":1,"column":1831}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":95,"column":9},"generated":{"line":1,"column":1836}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":95,"column":22},"generated":{"line":1,"column":1847}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"LightProbe","original":{"line":95,"column":26},"generated":{"line":1,"column":1851}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":95,"column":36},"generated":{"line":1,"column":1853}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":96,"column":4},"generated":{"line":1,"column":1864}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":96,"column":9},"generated":{"line":1,"column":1869}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensity","original":{"line":96,"column":20},"generated":{"line":1,"column":1880}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":96,"column":32},"generated":{"line":1,"column":1890}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":97,"column":4},"generated":{"line":1,"column":1892}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"add","original":{"line":97,"column":9},"generated":{"line":1,"column":1897}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":97,"column":13},"generated":{"line":1,"column":1901}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":97,"column":18},"generated":{"line":1,"column":1906}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":98,"column":4},"generated":{"line":1,"column":1918}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":98,"column":9},"generated":{"line":1,"column":1923}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":98,"column":28},"generated":{"line":1,"column":1940}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"DirectionalLight","original":{"line":98,"column":32},"generated":{"line":1,"column":1944}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":98,"column":48},"generated":{"line":1,"column":1946}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":99,"column":4},"generated":{"line":1,"column":1963}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":99,"column":9},"generated":{"line":1,"column":1968}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"intensity","original":{"line":99,"column":26},"generated":{"line":1,"column":1985}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":99,"column":38},"generated":{"line":1,"column":1995}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":100,"column":4},"generated":{"line":1,"column":1997}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"add","original":{"line":100,"column":9},"generated":{"line":1,"column":2002}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":100,"column":13},"generated":{"line":1,"column":2006}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":100,"column":18},"generated":{"line":1,"column":2011}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":103,"column":4},"generated":{"line":1,"column":2029}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environment","original":{"line":103,"column":9},"generated":{"line":1,"column":2034}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":103,"column":23},"generated":{"line":1,"column":2046}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":104,"column":4},"generated":{"line":1,"column":2051}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":104,"column":8},"generated":{"line":1,"column":2055}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":104,"column":28},"generated":{"line":1,"column":2057}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStarted","original":{"line":105,"column":8},"generated":{"line":1,"column":2062}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":105,"column":28},"generated":{"line":1,"column":2065}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":106,"column":4},"generated":{"line":1,"column":2067}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xr","original":{"line":106,"column":13},"generated":{"line":1,"column":2069}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"addEventListener","original":{"line":106,"column":16},"generated":{"line":1,"column":2072}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":106,"column":33},"generated":{"line":1,"column":2089}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":106,"column":49},"generated":{"line":1,"column":2104}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":107,"column":6},"generated":{"line":1,"column":2109}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":107,"column":12},"generated":{"line":1,"column":2115}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":107,"column":22},"generated":{"line":1,"column":2117}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xr","original":{"line":107,"column":31},"generated":{"line":1,"column":2119}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"getSession","original":{"line":107,"column":34},"generated":{"line":1,"column":2122}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":109,"column":10},"generated":{"line":1,"column":2135}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":109,"column":33},"generated":{"line":1,"column":2157}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":110,"column":8},"generated":{"line":1,"column":2160}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"requestLightProbe","original":{"line":110,"column":16},"generated":{"line":1,"column":2162}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":110,"column":34},"generated":{"line":1,"column":2180}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"reflectionFormat","original":{"line":111,"column":10},"generated":{"line":1,"column":2181}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"session","original":{"line":111,"column":28},"generated":{"line":1,"column":2198}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"preferredReflectionFormat","original":{"line":111,"column":36},"generated":{"line":1,"column":2200}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"then","original":{"line":112,"column":11},"generated":{"line":1,"column":2228}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"probe","original":{"line":112,"column":16},"generated":{"line":1,"column":2233}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":113,"column":10},"generated":{"line":1,"column":2237}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":113,"column":30},"generated":{"line":1,"column":2239}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"SessionLightProbe","original":{"line":113,"column":34},"generated":{"line":1,"column":2243}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":113,"column":52},"generated":{"line":1,"column":2245}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":113,"column":58},"generated":{"line":1,"column":2250}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"probe","original":{"line":113,"column":68},"generated":{"line":1,"column":2252}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environmentEstimation","original":{"line":113,"column":75},"generated":{"line":1,"column":2254}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":113,"column":98},"generated":{"line":1,"column":2256}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStarted","original":{"line":114,"column":12},"generated":{"line":1,"column":2261}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":114,"column":32},"generated":{"line":1,"column":2264}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":116,"column":12},"generated":{"line":1,"column":2266}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"dispatchEvent","original":{"line":116,"column":17},"generated":{"line":1,"column":2271}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":116,"column":31},"generated":{"line":1,"column":2285}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"type","original":{"line":117,"column":14},"generated":{"line":1,"column":2286}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":117,"column":20},"generated":{"line":1,"column":2291}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"renderer","original":{"line":123,"column":4},"generated":{"line":1,"column":2317}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"xr","original":{"line":123,"column":13},"generated":{"line":1,"column":2319}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"addEventListener","original":{"line":123,"column":16},"generated":{"line":1,"column":2322}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":123,"column":33},"generated":{"line":1,"column":2339}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":123,"column":47},"generated":{"line":1,"column":2352}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":124,"column":10},"generated":{"line":1,"column":2357}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":125,"column":8},"generated":{"line":1,"column":2361}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"dispose","original":{"line":125,"column":26},"generated":{"line":1,"column":2363}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":126,"column":8},"generated":{"line":1,"column":2373}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":126,"column":28},"generated":{"line":1,"column":2375}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"estimationStarted","original":{"line":129,"column":10},"generated":{"line":1,"column":2381}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":131,"column":8},"generated":{"line":1,"column":2384}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"dispatchEvent","original":{"line":131,"column":13},"generated":{"line":1,"column":2389}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":131,"column":27},"generated":{"line":1,"column":2403}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"type","original":{"line":132,"column":10},"generated":{"line":1,"column":2404}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":132,"column":16},"generated":{"line":1,"column":2409}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":137,"column":4},"generated":{"line":1,"column":2429}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"dispose","original":{"line":137,"column":9},"generated":{"line":1,"column":2434}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":137,"column":19},"generated":{"line":1,"column":2442}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":138,"column":10},"generated":{"line":1,"column":2448}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":139,"column":8},"generated":{"line":1,"column":2452}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"dispose","original":{"line":139,"column":26},"generated":{"line":1,"column":2454}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"sessionLightProbe","original":{"line":140,"column":8},"generated":{"line":1,"column":2464}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":140,"column":28},"generated":{"line":1,"column":2466}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":143,"column":6},"generated":{"line":1,"column":2472}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"remove","original":{"line":143,"column":11},"generated":{"line":1,"column":2477}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":143,"column":18},"generated":{"line":1,"column":2484}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":143,"column":23},"generated":{"line":1,"column":2489}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":144,"column":6},"generated":{"line":1,"column":2501}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"lightProbe","original":{"line":144,"column":11},"generated":{"line":1,"column":2506}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":144,"column":24},"generated":{"line":1,"column":2517}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":145,"column":6},"generated":{"line":1,"column":2522}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"remove","original":{"line":145,"column":11},"generated":{"line":1,"column":2527}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":145,"column":18},"generated":{"line":1,"column":2534}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":145,"column":23},"generated":{"line":1,"column":2539}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":146,"column":6},"generated":{"line":1,"column":2557}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"directionalLight","original":{"line":146,"column":11},"generated":{"line":1,"column":2562}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":146,"column":30},"generated":{"line":1,"column":2579}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":147,"column":6},"generated":{"line":1,"column":2584}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"environment","original":{"line":147,"column":11},"generated":{"line":1,"column":2589}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","original":{"line":147,"column":25},"generated":{"line":1,"column":2601}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"exports","original":{"line":151,"column":1},"generated":{"line":1,"column":2609}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"XREstimatedLight","original":{"line":151,"column":1},"generated":{"line":1,"column":2617}},{"source":"node_modules/three-stdlib/webxr/XREstimatedLight.js","name":"XREstimatedLight","original":{"line":151,"column":1},"generated":{"line":1,"column":2634}}],"sources":{"node_modules/three-stdlib/webxr/XREstimatedLight.js":"import { Group, LightProbe, DirectionalLight, WebGLCubeRenderTarget } from 'three';\n\nclass SessionLightProbe {\n  constructor(xrLight, renderer, lightProbe, environmentEstimation, estimationStartCallback) {\n    this.xrLight = xrLight;\n    this.renderer = renderer;\n    this.lightProbe = lightProbe;\n    this.xrWebGLBinding = null;\n    this.estimationStartCallback = estimationStartCallback;\n    this.frameCallback = this.onXRFrame.bind(this);\n    const session = renderer.xr.getSession(); // If the XRWebGLBinding class is available then we can also query an\n    // estimated reflection cube map.\n\n    if (environmentEstimation && 'XRWebGLBinding' in window) {\n      // This is the simplest way I know of to initialize a WebGL cubemap in Three.\n      const cubeRenderTarget = new WebGLCubeRenderTarget(16);\n      xrLight.environment = cubeRenderTarget.texture;\n      const gl = renderer.getContext(); // Ensure that we have any extensions needed to use the preferred cube map format.\n\n      switch (session.preferredReflectionFormat) {\n        case 'srgba8':\n          gl.getExtension('EXT_sRGB');\n          break;\n\n        case 'rgba16f':\n          gl.getExtension('OES_texture_half_float');\n          break;\n      }\n\n      this.xrWebGLBinding = new XRWebGLBinding(session, gl);\n      this.lightProbe.addEventListener('reflectionchange', () => {\n        this.updateReflection();\n      });\n    } // Start monitoring the XR animation frame loop to look for lighting\n    // estimation changes.\n\n\n    session.requestAnimationFrame(this.frameCallback);\n  }\n\n  updateReflection() {\n    const textureProperties = this.renderer.properties.get(this.xrLight.environment);\n\n    if (textureProperties) {\n      const cubeMap = this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);\n\n      if (cubeMap) {\n        textureProperties.__webglTexture = cubeMap;\n        this.xrLight.environment.needsPMREMUpdate = true;\n      }\n    }\n  }\n\n  onXRFrame(time, xrFrame) {\n    // If either this obejct or the XREstimatedLight has been destroyed, stop\n    // running the frame loop.\n    if (!this.xrLight) {\n      return;\n    }\n\n    const session = xrFrame.session;\n    session.requestAnimationFrame(this.frameCallback);\n    const lightEstimate = xrFrame.getLightEstimate(this.lightProbe);\n\n    if (lightEstimate) {\n      // We can copy the estimate's spherical harmonics array directly into the light probe.\n      this.xrLight.lightProbe.sh.fromArray(lightEstimate.sphericalHarmonicsCoefficients);\n      this.xrLight.lightProbe.intensity = 1.0; // For the directional light we have to normalize the color and set the scalar as the\n      // intensity, since WebXR can return color values that exceed 1.0.\n\n      const intensityScalar = Math.max(1.0, Math.max(lightEstimate.primaryLightIntensity.x, Math.max(lightEstimate.primaryLightIntensity.y, lightEstimate.primaryLightIntensity.z)));\n      this.xrLight.directionalLight.color.setRGB(lightEstimate.primaryLightIntensity.x / intensityScalar, lightEstimate.primaryLightIntensity.y / intensityScalar, lightEstimate.primaryLightIntensity.z / intensityScalar);\n      this.xrLight.directionalLight.intensity = intensityScalar;\n      this.xrLight.directionalLight.position.copy(lightEstimate.primaryLightDirection);\n\n      if (this.estimationStartCallback) {\n        this.estimationStartCallback();\n        this.estimationStartCallback = null;\n      }\n    }\n  }\n\n  dispose() {\n    this.xrLight = null;\n    this.renderer = null;\n    this.lightProbe = null;\n    this.xrWebGLBinding = null;\n  }\n\n}\n\nclass XREstimatedLight extends Group {\n  constructor(renderer, environmentEstimation = true) {\n    super();\n    this.lightProbe = new LightProbe();\n    this.lightProbe.intensity = 0;\n    this.add(this.lightProbe);\n    this.directionalLight = new DirectionalLight();\n    this.directionalLight.intensity = 0;\n    this.add(this.directionalLight); // Will be set to a cube map in the SessionLightProbe is environment estimation is\n    // available and requested.\n\n    this.environment = null;\n    let sessionLightProbe = null;\n    let estimationStarted = false;\n    renderer.xr.addEventListener('sessionstart', () => {\n      const session = renderer.xr.getSession();\n\n      if ('requestLightProbe' in session) {\n        session.requestLightProbe({\n          reflectionFormat: session.preferredReflectionFormat\n        }).then(probe => {\n          sessionLightProbe = new SessionLightProbe(this, renderer, probe, environmentEstimation, () => {\n            estimationStarted = true; // Fired to indicate that the estimated lighting values are now being updated.\n\n            this.dispatchEvent({\n              type: 'estimationstart'\n            });\n          });\n        });\n      }\n    });\n    renderer.xr.addEventListener('sessionend', () => {\n      if (sessionLightProbe) {\n        sessionLightProbe.dispose();\n        sessionLightProbe = null;\n      }\n\n      if (estimationStarted) {\n        // Fired to indicate that the estimated lighting values are no longer being updated.\n        this.dispatchEvent({\n          type: 'estimationend'\n        });\n      }\n    }); // Done inline to provide access to sessionLightProbe.\n\n    this.dispose = () => {\n      if (sessionLightProbe) {\n        sessionLightProbe.dispose();\n        sessionLightProbe = null;\n      }\n\n      this.remove(this.lightProbe);\n      this.lightProbe = null;\n      this.remove(this.directionalLight);\n      this.directionalLight = null;\n      this.environment = null;\n    };\n  }\n\n}\n\nexport { XREstimatedLight };\n"},"lineCount":null}},"error":null,"hash":"5957ad906ddbcc95d913d001f90347d0","cacheData":{"env":{}}}