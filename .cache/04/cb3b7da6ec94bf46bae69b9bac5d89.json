{"id":"zakT","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1724625312988}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.WaterRefractionShader=void 0;const e=exports.WaterRefractionShader={uniforms:{color:{value:null},time:{value:0},tDiffuse:{value:null},tDudv:{value:null},textureMatrix:{value:null}},vertexShader:[\"uniform mat4 textureMatrix;\",\"varying vec2 vUv;\",\"varying vec4 vUvRefraction;\",\"void main() {\",\"\\tvUv = uv;\",\"\\tvUvRefraction = textureMatrix * vec4( position, 1.0 );\",\"\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform vec3 color;\",\"uniform float time;\",\"uniform sampler2D tDiffuse;\",\"uniform sampler2D tDudv;\",\"varying vec2 vUv;\",\"varying vec4 vUvRefraction;\",\"float blendOverlay( float base, float blend ) {\",\"\\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\",\"}\",\"vec3 blendOverlay( vec3 base, vec3 blend ) {\",\"\\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ),blendOverlay( base.b, blend.b ) );\",\"}\",\"void main() {\",\" float waveStrength = 0.1;\",\" float waveSpeed = 0.03;\",\"\\tvec2 distortedUv = texture2D( tDudv, vec2( vUv.x + time * waveSpeed, vUv.y ) ).rg * waveStrength;\",\"\\tdistortedUv = vUv.xy + vec2( distortedUv.x, distortedUv.y + time * waveSpeed );\",\"\\tvec2 distortion = ( texture2D( tDudv, distortedUv ).rg * 2.0 - 1.0 ) * waveStrength;\",\" vec4 uv = vec4( vUvRefraction );\",\" uv.xy += distortion;\",\"\\tvec4 base = texture2DProj( tDiffuse, uv );\",\"\\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\",\"}\"].join(\"\\n\")};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":23,"column":1},"generated":{"line":1,"column":103}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"WaterRefractionShader","original":{"line":1,"column":6},"generated":{"line":1,"column":111}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"exports","original":{"line":1,"column":27},"generated":{"line":1,"column":113}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"WaterRefractionShader","original":{"line":1,"column":27},"generated":{"line":1,"column":121}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":1,"column":30},"generated":{"line":1,"column":143}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"uniforms","original":{"line":2,"column":2},"generated":{"line":1,"column":144}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":2,"column":12},"generated":{"line":1,"column":153}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"color","original":{"line":3,"column":4},"generated":{"line":1,"column":154}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":3,"column":11},"generated":{"line":1,"column":160}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"value","original":{"line":4,"column":6},"generated":{"line":1,"column":161}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":4,"column":13},"generated":{"line":1,"column":167}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"time","original":{"line":6,"column":4},"generated":{"line":1,"column":173}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":6,"column":10},"generated":{"line":1,"column":178}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"value","original":{"line":7,"column":6},"generated":{"line":1,"column":179}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":7,"column":13},"generated":{"line":1,"column":185}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"tDiffuse","original":{"line":9,"column":4},"generated":{"line":1,"column":188}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":9,"column":14},"generated":{"line":1,"column":197}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"value","original":{"line":10,"column":6},"generated":{"line":1,"column":198}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":10,"column":13},"generated":{"line":1,"column":204}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"tDudv","original":{"line":12,"column":4},"generated":{"line":1,"column":210}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":12,"column":11},"generated":{"line":1,"column":216}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"value","original":{"line":13,"column":6},"generated":{"line":1,"column":217}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":13,"column":13},"generated":{"line":1,"column":223}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"textureMatrix","original":{"line":15,"column":4},"generated":{"line":1,"column":229}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":15,"column":19},"generated":{"line":1,"column":243}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"value","original":{"line":16,"column":6},"generated":{"line":1,"column":244}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":16,"column":13},"generated":{"line":1,"column":250}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"vertexShader","original":{"line":19,"column":2},"generated":{"line":1,"column":257}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":16},"generated":{"line":1,"column":270}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":17},"generated":{"line":1,"column":271}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":48},"generated":{"line":1,"column":301}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":69},"generated":{"line":1,"column":321}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":100},"generated":{"line":1,"column":351}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":117},"generated":{"line":1,"column":367}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":131},"generated":{"line":1,"column":381}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":190},"generated":{"line":1,"column":440}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":268},"generated":{"line":1,"column":518}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"join","original":{"line":19,"column":273},"generated":{"line":1,"column":523}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":19,"column":278},"generated":{"line":1,"column":528}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"fragmentShader","original":{"line":20,"column":2},"generated":{"line":1,"column":534}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":18},"generated":{"line":1,"column":549}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":19},"generated":{"line":1,"column":550}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":42},"generated":{"line":1,"column":572}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":65},"generated":{"line":1,"column":594}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":96},"generated":{"line":1,"column":624}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":124},"generated":{"line":1,"column":651}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":145},"generated":{"line":1,"column":671}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":176},"generated":{"line":1,"column":701}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":227},"generated":{"line":1,"column":751}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":329},"generated":{"line":1,"column":853}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":334},"generated":{"line":1,"column":857}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":382},"generated":{"line":1,"column":904}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":499},"generated":{"line":1,"column":1021}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":504},"generated":{"line":1,"column":1025}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":521},"generated":{"line":1,"column":1041}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":20,"column":551},"generated":{"line":1,"column":1070}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":21,"column":2},"generated":{"line":1,"column":1097}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":21,"column":104},"generated":{"line":1,"column":1199}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":21,"column":188},"generated":{"line":1,"column":1283}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":22,"column":2},"generated":{"line":1,"column":1372}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":22,"column":39},"generated":{"line":1,"column":1408}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":22,"column":64},"generated":{"line":1,"column":1432}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":22,"column":111},"generated":{"line":1,"column":1479}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":22,"column":176},"generated":{"line":1,"column":1544}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","name":"join","original":{"line":22,"column":181},"generated":{"line":1,"column":1549}},{"source":"node_modules/three-stdlib/shaders/WaterRefractionShader.js","original":{"line":22,"column":186},"generated":{"line":1,"column":1554}}],"sources":{"node_modules/three-stdlib/shaders/WaterRefractionShader.js":"const WaterRefractionShader = {\n  uniforms: {\n    color: {\n      value: null\n    },\n    time: {\n      value: 0\n    },\n    tDiffuse: {\n      value: null\n    },\n    tDudv: {\n      value: null\n    },\n    textureMatrix: {\n      value: null\n    }\n  },\n  vertexShader: ['uniform mat4 textureMatrix;', 'varying vec2 vUv;', 'varying vec4 vUvRefraction;', 'void main() {', '\tvUv = uv;', '\tvUvRefraction = textureMatrix * vec4( position, 1.0 );', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['uniform vec3 color;', 'uniform float time;', 'uniform sampler2D tDiffuse;', 'uniform sampler2D tDudv;', 'varying vec2 vUv;', 'varying vec4 vUvRefraction;', 'float blendOverlay( float base, float blend ) {', '\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );', '}', 'vec3 blendOverlay( vec3 base, vec3 blend ) {', '\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ),blendOverlay( base.b, blend.b ) );', '}', 'void main() {', ' float waveStrength = 0.1;', ' float waveSpeed = 0.03;', // simple distortion (ripple) via dudv map (see https://www.youtube.com/watch?v=6B7IF6GOu7s)\n  '\tvec2 distortedUv = texture2D( tDudv, vec2( vUv.x + time * waveSpeed, vUv.y ) ).rg * waveStrength;', '\tdistortedUv = vUv.xy + vec2( distortedUv.x, distortedUv.y + time * waveSpeed );', '\tvec2 distortion = ( texture2D( tDudv, distortedUv ).rg * 2.0 - 1.0 ) * waveStrength;', // new uv coords\n  ' vec4 uv = vec4( vUvRefraction );', ' uv.xy += distortion;', '\tvec4 base = texture2DProj( tDiffuse, uv );', '\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );', '}'].join('\\n')\n};\n\nexport { WaterRefractionShader };\n"},"lineCount":null}},"error":null,"hash":"f4caf70dff24c38c31ff6c27b10b0ccb","cacheData":{"env":{}}}