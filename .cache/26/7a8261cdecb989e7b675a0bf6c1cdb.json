{"id":"iLom","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1724625312988},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/exporters/MMDExporter.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"three","loc":{"line":2,"column":45,"index":118},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/exporters/MMDExporter.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three/build/three.module.js"},{"name":"mmd-parser","loc":{"line":3,"column":31,"index":158},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/exporters/MMDExporter.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/mmd-parser/build/mmdparser.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MMDExporter=void 0;var e=r(require(\"@babel/runtime/helpers/esm/defineProperty\")),t=require(\"three\"),n=require(\"mmd-parser\");function r(e){return e&&e.__esModule?e:{default:e}}class s{constructor(){(0,e.default)(this,\"u2sTable\",void 0)}parseVpd(e,n,r){if(!0!==e.isSkinnedMesh)return console.warn(\"THREE.MMDExporter: parseVpd() requires SkinnedMesh instance.\"),null;function s(e){Math.abs(e)<1e-6&&(e=0);let t=e.toString();-1===t.indexOf(\".\")&&(t+=\".\");const n=(t+=\"000000\").indexOf(\".\");return t.slice(0,n)+\".\"+t.slice(n+1,n+7)}function o(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(s(e[n]));return t.join(\",\")}e.updateMatrixWorld(!0);const i=e.skeleton.bones,a=this.getBindBones(e),u=new t.Vector3,l=new t.Quaternion,c=new t.Quaternion,h=new t.Matrix4,p=[];p.push(\"Vocaloid Pose Data file\"),p.push(\"\"),p.push((\"\"!==e.name?e.name.replace(/\\s/g,\"_\"):\"skin\")+\".osm;\"),p.push(i.length+\";\"),p.push(\"\");for(let t=0,f=i.length;t<f;t++){const e=i[t],n=a[t];!0===r&&void 0!==e.userData.ik&&void 0!==e.userData.ik.originalMatrix?h.fromArray(e.userData.ik.originalMatrix):h.copy(e.matrix),u.setFromMatrixPosition(h),l.setFromRotationMatrix(h);const s=u.sub(n.position).toArray(),d=c.copy(n.quaternion).conjugate().multiply(l).toArray();s[2]=-s[2],d[0]=-d[0],d[1]=-d[1],p.push(\"Bone\"+t+\"{\"+e.name),p.push(\"  \"+o(s)+\";\"),p.push(\"  \"+o(d)+\";\"),p.push(\"}\"),p.push(\"\")}p.push(\"\");const d=p.join(\"\\n\");return!0===n?this.unicodeToShiftjis(d):d}unicodeToShiftjis(e){if(void 0===this.u2sTable){const e=(new n.CharsetEncoder).s2uTable;this.u2sTable={};const t=Object.keys(e);for(let n=0,r=t.length;n<r;n++){let r=t[n];const s=e[r];this.u2sTable[s]=parseInt(r)}}const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n),s=this.u2sTable[r];if(void 0===s)throw\"cannot convert charcode 0x\"+r.toString(16);s>255?(t.push(s>>8&255),t.push(255&s)):t.push(255&s)}return new Uint8Array(t)}getBindBones(e){const t=e.clone();return t.pose(),t.skeleton.bones}}exports.MMDExporter=s;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":158,"column":1},"generated":{"line":1,"column":93}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"_defineProperty2","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"_interopRequireDefault","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":111}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"_three","original":{"line":2,"column":0},"generated":{"line":1,"column":157}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":159}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":2,"column":0},"generated":{"line":1,"column":167}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"_mmdParser","original":{"line":3,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":178}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":3,"column":0},"generated":{"line":1,"column":186}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":3,"column":44},"generated":{"line":1,"column":200}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"_interopRequireDefault","original":{"line":3,"column":44},"generated":{"line":1,"column":209}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"e","original":{"line":3,"column":44},"generated":{"line":1,"column":211}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"e","original":{"line":3,"column":44},"generated":{"line":1,"column":214}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"e","original":{"line":3,"column":44},"generated":{"line":1,"column":221}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"e","original":{"line":3,"column":44},"generated":{"line":1,"column":224}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"__esModule","original":{"line":3,"column":44},"generated":{"line":1,"column":226}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"e","original":{"line":3,"column":44},"generated":{"line":1,"column":237}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"default","original":{"line":3,"column":44},"generated":{"line":1,"column":239}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"default","original":{"line":3,"column":44},"generated":{"line":1,"column":240}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"e","original":{"line":3,"column":44},"generated":{"line":1,"column":248}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":10,"column":0},"generated":{"line":1,"column":251}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"MMDExporter","original":{"line":10,"column":6},"generated":{"line":1,"column":257}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"constructor","original":{"line":11,"column":2},"generated":{"line":1,"column":259}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":12,"column":4},"generated":{"line":1,"column":274}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"_defineProperty","original":{"line":12,"column":4},"generated":{"line":1,"column":276}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":12,"column":19},"generated":{"line":1,"column":278}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":12,"column":20},"generated":{"line":1,"column":287}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":12,"column":26},"generated":{"line":1,"column":292}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":12,"column":38},"generated":{"line":1,"column":308}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"parseVpd","original":{"line":37,"column":2},"generated":{"line":1,"column":311}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":37,"column":11},"generated":{"line":1,"column":320}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"outputShiftJis","original":{"line":37,"column":17},"generated":{"line":1,"column":322}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"useOriginalBones","original":{"line":37,"column":33},"generated":{"line":1,"column":324}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":38,"column":4},"generated":{"line":1,"column":327}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":38,"column":31},"generated":{"line":1,"column":331}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":38,"column":8},"generated":{"line":1,"column":335}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"isSkinnedMesh","original":{"line":38,"column":13},"generated":{"line":1,"column":337}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":40,"column":6},"generated":{"line":1,"column":351}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"console","original":{"line":39,"column":6},"generated":{"line":1,"column":358}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"warn","original":{"line":39,"column":14},"generated":{"line":1,"column":366}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":39,"column":19},"generated":{"line":1,"column":371}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":40,"column":13},"generated":{"line":1,"column":435}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":43,"column":4},"generated":{"line":1,"column":440}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toStringsFromNumber","original":{"line":43,"column":13},"generated":{"line":1,"column":449}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"num","original":{"line":43,"column":33},"generated":{"line":1,"column":451}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"Math","original":{"line":44,"column":10},"generated":{"line":1,"column":454}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"abs","original":{"line":44,"column":15},"generated":{"line":1,"column":459}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"num","original":{"line":44,"column":19},"generated":{"line":1,"column":463}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":44,"column":26},"generated":{"line":1,"column":466}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"num","original":{"line":44,"column":32},"generated":{"line":1,"column":473}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":44,"column":38},"generated":{"line":1,"column":475}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":45,"column":6},"generated":{"line":1,"column":478}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":45,"column":10},"generated":{"line":1,"column":482}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"num","original":{"line":45,"column":14},"generated":{"line":1,"column":484}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toString","original":{"line":45,"column":18},"generated":{"line":1,"column":486}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":47,"column":30},"generated":{"line":1,"column":498}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":47,"column":10},"generated":{"line":1,"column":502}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"indexOf","original":{"line":47,"column":12},"generated":{"line":1,"column":504}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":47,"column":20},"generated":{"line":1,"column":512}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":48,"column":8},"generated":{"line":1,"column":519}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":48,"column":13},"generated":{"line":1,"column":522}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":52,"column":6},"generated":{"line":1,"column":527}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"index","original":{"line":52,"column":12},"generated":{"line":1,"column":533}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":51,"column":6},"generated":{"line":1,"column":536}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":51,"column":11},"generated":{"line":1,"column":539}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"indexOf","original":{"line":52,"column":22},"generated":{"line":1,"column":549}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":52,"column":30},"generated":{"line":1,"column":557}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":55,"column":6},"generated":{"line":1,"column":562}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":53,"column":16},"generated":{"line":1,"column":569}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"slice","original":{"line":53,"column":18},"generated":{"line":1,"column":571}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":53,"column":24},"generated":{"line":1,"column":577}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"index","original":{"line":53,"column":27},"generated":{"line":1,"column":579}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":55,"column":17},"generated":{"line":1,"column":582}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":54,"column":16},"generated":{"line":1,"column":586}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"slice","original":{"line":54,"column":18},"generated":{"line":1,"column":588}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"index","original":{"line":54,"column":24},"generated":{"line":1,"column":594}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":54,"column":32},"generated":{"line":1,"column":596}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"index","original":{"line":54,"column":35},"generated":{"line":1,"column":598}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":54,"column":43},"generated":{"line":1,"column":600}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":58,"column":4},"generated":{"line":1,"column":603}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toStringsFromArray","original":{"line":58,"column":13},"generated":{"line":1,"column":612}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":58,"column":32},"generated":{"line":1,"column":614}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":59,"column":6},"generated":{"line":1,"column":617}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":59,"column":12},"generated":{"line":1,"column":623}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":59,"column":16},"generated":{"line":1,"column":625}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":61,"column":6},"generated":{"line":1,"column":628}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":61,"column":11},"generated":{"line":1,"column":632}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":61,"column":15},"generated":{"line":1,"column":636}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":61,"column":19},"generated":{"line":1,"column":638}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":61,"column":22},"generated":{"line":1,"column":640}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":61,"column":27},"generated":{"line":1,"column":642}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"length","original":{"line":61,"column":33},"generated":{"line":1,"column":644}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":61,"column":41},"generated":{"line":1,"column":651}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":61,"column":45},"generated":{"line":1,"column":653}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":61,"column":49},"generated":{"line":1,"column":655}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":62,"column":8},"generated":{"line":1,"column":659}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":62,"column":10},"generated":{"line":1,"column":661}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toStringsFromNumber","original":{"line":62,"column":15},"generated":{"line":1,"column":666}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":62,"column":35},"generated":{"line":1,"column":668}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":62,"column":41},"generated":{"line":1,"column":670}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":65,"column":6},"generated":{"line":1,"column":675}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"a","original":{"line":65,"column":13},"generated":{"line":1,"column":682}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"join","original":{"line":65,"column":15},"generated":{"line":1,"column":684}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":65,"column":20},"generated":{"line":1,"column":689}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":68,"column":4},"generated":{"line":1,"column":694}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"updateMatrixWorld","original":{"line":68,"column":9},"generated":{"line":1,"column":696}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":68,"column":27},"generated":{"line":1,"column":715}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":69,"column":4},"generated":{"line":1,"column":718}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones","original":{"line":69,"column":10},"generated":{"line":1,"column":724}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":69,"column":18},"generated":{"line":1,"column":726}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skeleton","original":{"line":69,"column":23},"generated":{"line":1,"column":728}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones","original":{"line":69,"column":32},"generated":{"line":1,"column":737}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones2","original":{"line":70,"column":10},"generated":{"line":1,"column":743}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":70,"column":19},"generated":{"line":1,"column":745}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"getBindBones","original":{"line":70,"column":24},"generated":{"line":1,"column":750}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":70,"column":37},"generated":{"line":1,"column":763}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"position","original":{"line":71,"column":10},"generated":{"line":1,"column":766}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":71,"column":21},"generated":{"line":1,"column":768}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"Vector3","original":{"line":71,"column":25},"generated":{"line":1,"column":772}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":71,"column":32},"generated":{"line":1,"column":774}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"quaternion","original":{"line":72,"column":10},"generated":{"line":1,"column":782}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":72,"column":23},"generated":{"line":1,"column":784}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"Quaternion","original":{"line":72,"column":27},"generated":{"line":1,"column":788}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":72,"column":37},"generated":{"line":1,"column":790}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"quaternion2","original":{"line":73,"column":10},"generated":{"line":1,"column":801}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":73,"column":24},"generated":{"line":1,"column":803}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"Quaternion","original":{"line":73,"column":28},"generated":{"line":1,"column":807}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":73,"column":38},"generated":{"line":1,"column":809}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"matrix","original":{"line":74,"column":10},"generated":{"line":1,"column":820}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":74,"column":19},"generated":{"line":1,"column":822}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"Matrix4","original":{"line":74,"column":23},"generated":{"line":1,"column":826}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":74,"column":30},"generated":{"line":1,"column":828}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":75,"column":10},"generated":{"line":1,"column":836}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":75,"column":18},"generated":{"line":1,"column":838}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":76,"column":4},"generated":{"line":1,"column":841}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":76,"column":10},"generated":{"line":1,"column":843}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":76,"column":15},"generated":{"line":1,"column":848}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":77,"column":4},"generated":{"line":1,"column":875}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":77,"column":10},"generated":{"line":1,"column":877}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":77,"column":15},"generated":{"line":1,"column":882}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":78,"column":4},"generated":{"line":1,"column":886}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":78,"column":10},"generated":{"line":1,"column":888}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":78,"column":30},"generated":{"line":1,"column":894}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":78,"column":16},"generated":{"line":1,"column":899}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"name","original":{"line":78,"column":21},"generated":{"line":1,"column":901}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":78,"column":35},"generated":{"line":1,"column":906}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"name","original":{"line":78,"column":40},"generated":{"line":1,"column":908}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"replace","original":{"line":78,"column":45},"generated":{"line":1,"column":913}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":78,"column":53},"generated":{"line":1,"column":921}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":78,"column":60},"generated":{"line":1,"column":927}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":78,"column":67},"generated":{"line":1,"column":932}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":78,"column":77},"generated":{"line":1,"column":940}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":79,"column":4},"generated":{"line":1,"column":949}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":79,"column":10},"generated":{"line":1,"column":951}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones","original":{"line":79,"column":15},"generated":{"line":1,"column":956}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"length","original":{"line":79,"column":21},"generated":{"line":1,"column":958}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":79,"column":30},"generated":{"line":1,"column":965}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":80,"column":4},"generated":{"line":1,"column":970}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":80,"column":10},"generated":{"line":1,"column":972}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":80,"column":15},"generated":{"line":1,"column":977}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":82,"column":4},"generated":{"line":1,"column":981}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":82,"column":9},"generated":{"line":1,"column":985}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":82,"column":13},"generated":{"line":1,"column":989}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":82,"column":17},"generated":{"line":1,"column":991}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":82,"column":20},"generated":{"line":1,"column":993}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones","original":{"line":82,"column":25},"generated":{"line":1,"column":995}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"length","original":{"line":82,"column":31},"generated":{"line":1,"column":997}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":82,"column":39},"generated":{"line":1,"column":1004}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":82,"column":43},"generated":{"line":1,"column":1006}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":82,"column":47},"generated":{"line":1,"column":1008}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":82,"column":52},"generated":{"line":1,"column":1012}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":83,"column":6},"generated":{"line":1,"column":1013}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone","original":{"line":83,"column":12},"generated":{"line":1,"column":1019}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones","original":{"line":83,"column":19},"generated":{"line":1,"column":1021}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":83,"column":25},"generated":{"line":1,"column":1023}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone2","original":{"line":84,"column":12},"generated":{"line":1,"column":1026}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones2","original":{"line":84,"column":20},"generated":{"line":1,"column":1028}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":84,"column":27},"generated":{"line":1,"column":1030}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":90,"column":31},"generated":{"line":1,"column":1034}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"useOriginalBones","original":{"line":90,"column":10},"generated":{"line":1,"column":1038}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"undefined","original":{"line":90,"column":60},"generated":{"line":1,"column":1046}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone","original":{"line":90,"column":39},"generated":{"line":1,"column":1050}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"userData","original":{"line":90,"column":44},"generated":{"line":1,"column":1052}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"ik","original":{"line":90,"column":53},"generated":{"line":1,"column":1061}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"undefined","original":{"line":90,"column":109},"generated":{"line":1,"column":1070}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone","original":{"line":90,"column":73},"generated":{"line":1,"column":1074}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"userData","original":{"line":90,"column":78},"generated":{"line":1,"column":1076}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"ik","original":{"line":90,"column":87},"generated":{"line":1,"column":1085}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"originalMatrix","original":{"line":90,"column":90},"generated":{"line":1,"column":1088}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"matrix","original":{"line":91,"column":8},"generated":{"line":1,"column":1103}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"fromArray","original":{"line":91,"column":15},"generated":{"line":1,"column":1105}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone","original":{"line":91,"column":25},"generated":{"line":1,"column":1115}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"userData","original":{"line":91,"column":30},"generated":{"line":1,"column":1117}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"ik","original":{"line":91,"column":39},"generated":{"line":1,"column":1126}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"originalMatrix","original":{"line":91,"column":42},"generated":{"line":1,"column":1129}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"matrix","original":{"line":93,"column":8},"generated":{"line":1,"column":1145}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"copy","original":{"line":93,"column":15},"generated":{"line":1,"column":1147}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone","original":{"line":93,"column":20},"generated":{"line":1,"column":1152}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"matrix","original":{"line":93,"column":25},"generated":{"line":1,"column":1154}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"position","original":{"line":96,"column":6},"generated":{"line":1,"column":1162}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"setFromMatrixPosition","original":{"line":96,"column":15},"generated":{"line":1,"column":1164}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"matrix","original":{"line":96,"column":37},"generated":{"line":1,"column":1186}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"quaternion","original":{"line":97,"column":6},"generated":{"line":1,"column":1189}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"setFromRotationMatrix","original":{"line":97,"column":17},"generated":{"line":1,"column":1191}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"matrix","original":{"line":97,"column":39},"generated":{"line":1,"column":1213}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":98,"column":6},"generated":{"line":1,"column":1216}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"pArray","original":{"line":98,"column":12},"generated":{"line":1,"column":1222}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"position","original":{"line":98,"column":21},"generated":{"line":1,"column":1224}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"sub","original":{"line":98,"column":30},"generated":{"line":1,"column":1226}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone2","original":{"line":98,"column":34},"generated":{"line":1,"column":1230}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"position","original":{"line":98,"column":40},"generated":{"line":1,"column":1232}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toArray","original":{"line":98,"column":50},"generated":{"line":1,"column":1242}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"qArray","original":{"line":99,"column":12},"generated":{"line":1,"column":1252}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"quaternion2","original":{"line":99,"column":21},"generated":{"line":1,"column":1254}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"copy","original":{"line":99,"column":33},"generated":{"line":1,"column":1256}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone2","original":{"line":99,"column":38},"generated":{"line":1,"column":1261}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"quaternion","original":{"line":99,"column":44},"generated":{"line":1,"column":1263}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"conjugate","original":{"line":99,"column":56},"generated":{"line":1,"column":1275}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"multiply","original":{"line":99,"column":68},"generated":{"line":1,"column":1287}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"quaternion","original":{"line":99,"column":77},"generated":{"line":1,"column":1296}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toArray","original":{"line":99,"column":89},"generated":{"line":1,"column":1299}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"pArray","original":{"line":101,"column":6},"generated":{"line":1,"column":1309}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":101,"column":13},"generated":{"line":1,"column":1311}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"pArray","original":{"line":101,"column":19},"generated":{"line":1,"column":1315}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":101,"column":26},"generated":{"line":1,"column":1317}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"qArray","original":{"line":102,"column":6},"generated":{"line":1,"column":1320}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":102,"column":13},"generated":{"line":1,"column":1322}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"qArray","original":{"line":102,"column":19},"generated":{"line":1,"column":1326}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":102,"column":26},"generated":{"line":1,"column":1328}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"qArray","original":{"line":103,"column":6},"generated":{"line":1,"column":1331}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":103,"column":13},"generated":{"line":1,"column":1333}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"qArray","original":{"line":103,"column":19},"generated":{"line":1,"column":1337}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":103,"column":26},"generated":{"line":1,"column":1339}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":104,"column":6},"generated":{"line":1,"column":1342}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":104,"column":12},"generated":{"line":1,"column":1344}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":104,"column":17},"generated":{"line":1,"column":1349}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":104,"column":26},"generated":{"line":1,"column":1356}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":104,"column":30},"generated":{"line":1,"column":1358}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bone","original":{"line":104,"column":36},"generated":{"line":1,"column":1362}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"name","original":{"line":104,"column":41},"generated":{"line":1,"column":1364}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":105,"column":6},"generated":{"line":1,"column":1370}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":105,"column":12},"generated":{"line":1,"column":1372}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":105,"column":17},"generated":{"line":1,"column":1377}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toStringsFromArray","original":{"line":105,"column":24},"generated":{"line":1,"column":1382}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"pArray","original":{"line":105,"column":43},"generated":{"line":1,"column":1384}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":105,"column":53},"generated":{"line":1,"column":1387}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":106,"column":6},"generated":{"line":1,"column":1392}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":106,"column":12},"generated":{"line":1,"column":1394}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":106,"column":17},"generated":{"line":1,"column":1399}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toStringsFromArray","original":{"line":106,"column":24},"generated":{"line":1,"column":1404}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"qArray","original":{"line":106,"column":43},"generated":{"line":1,"column":1406}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":106,"column":53},"generated":{"line":1,"column":1409}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":107,"column":6},"generated":{"line":1,"column":1414}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":107,"column":12},"generated":{"line":1,"column":1416}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":107,"column":17},"generated":{"line":1,"column":1421}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":108,"column":6},"generated":{"line":1,"column":1426}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":108,"column":12},"generated":{"line":1,"column":1428}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":108,"column":17},"generated":{"line":1,"column":1433}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":111,"column":4},"generated":{"line":1,"column":1437}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":111,"column":10},"generated":{"line":1,"column":1439}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":111,"column":15},"generated":{"line":1,"column":1444}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":112,"column":4},"generated":{"line":1,"column":1448}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"lines","original":{"line":112,"column":10},"generated":{"line":1,"column":1454}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":112,"column":18},"generated":{"line":1,"column":1456}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"join","original":{"line":112,"column":24},"generated":{"line":1,"column":1458}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":112,"column":29},"generated":{"line":1,"column":1463}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":113,"column":4},"generated":{"line":1,"column":1469}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":113,"column":30},"generated":{"line":1,"column":1476}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"outputShiftJis","original":{"line":113,"column":11},"generated":{"line":1,"column":1480}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":113,"column":37},"generated":{"line":1,"column":1482}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"unicodeToShiftjis","original":{"line":113,"column":42},"generated":{"line":1,"column":1487}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"lines","original":{"line":113,"column":60},"generated":{"line":1,"column":1505}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"lines","original":{"line":113,"column":69},"generated":{"line":1,"column":1508}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"unicodeToShiftjis","original":{"line":117,"column":2},"generated":{"line":1,"column":1510}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"str","original":{"line":117,"column":20},"generated":{"line":1,"column":1528}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":118,"column":4},"generated":{"line":1,"column":1531}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"undefined","original":{"line":118,"column":26},"generated":{"line":1,"column":1539}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":118,"column":8},"generated":{"line":1,"column":1543}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"u2sTable","original":{"line":118,"column":13},"generated":{"line":1,"column":1548}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":118,"column":37},"generated":{"line":1,"column":1557}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":119,"column":6},"generated":{"line":1,"column":1558}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"table","original":{"line":121,"column":12},"generated":{"line":1,"column":1564}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":119,"column":22},"generated":{"line":1,"column":1567}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"CharsetEncoder","original":{"line":119,"column":26},"generated":{"line":1,"column":1571}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":119,"column":40},"generated":{"line":1,"column":1573}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"s2uTable","original":{"line":121,"column":28},"generated":{"line":1,"column":1589}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":122,"column":6},"generated":{"line":1,"column":1598}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"u2sTable","original":{"line":122,"column":11},"generated":{"line":1,"column":1603}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":122,"column":22},"generated":{"line":1,"column":1612}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":123,"column":6},"generated":{"line":1,"column":1615}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"keys","original":{"line":123,"column":12},"generated":{"line":1,"column":1621}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"Object","original":{"line":123,"column":19},"generated":{"line":1,"column":1623}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"keys","original":{"line":123,"column":26},"generated":{"line":1,"column":1630}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"table","original":{"line":123,"column":31},"generated":{"line":1,"column":1635}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":125,"column":6},"generated":{"line":1,"column":1638}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":125,"column":11},"generated":{"line":1,"column":1642}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":125,"column":15},"generated":{"line":1,"column":1646}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":125,"column":19},"generated":{"line":1,"column":1648}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":125,"column":22},"generated":{"line":1,"column":1650}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"keys","original":{"line":125,"column":27},"generated":{"line":1,"column":1652}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"length","original":{"line":125,"column":32},"generated":{"line":1,"column":1654}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":125,"column":40},"generated":{"line":1,"column":1661}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":125,"column":44},"generated":{"line":1,"column":1663}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":125,"column":48},"generated":{"line":1,"column":1665}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":125,"column":53},"generated":{"line":1,"column":1669}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":126,"column":8},"generated":{"line":1,"column":1670}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"key","original":{"line":126,"column":12},"generated":{"line":1,"column":1674}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"keys","original":{"line":126,"column":18},"generated":{"line":1,"column":1676}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":126,"column":23},"generated":{"line":1,"column":1678}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":127,"column":8},"generated":{"line":1,"column":1681}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":127,"column":14},"generated":{"line":1,"column":1687}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"table","original":{"line":127,"column":22},"generated":{"line":1,"column":1689}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"key","original":{"line":127,"column":28},"generated":{"line":1,"column":1691}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":128,"column":8},"generated":{"line":1,"column":1694}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"u2sTable","original":{"line":128,"column":13},"generated":{"line":1,"column":1699}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":128,"column":22},"generated":{"line":1,"column":1708}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"parseInt","original":{"line":128,"column":31},"generated":{"line":1,"column":1711}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"key","original":{"line":128,"column":40},"generated":{"line":1,"column":1720}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":132,"column":4},"generated":{"line":1,"column":1724}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":132,"column":10},"generated":{"line":1,"column":1730}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":132,"column":18},"generated":{"line":1,"column":1732}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":134,"column":4},"generated":{"line":1,"column":1735}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":134,"column":9},"generated":{"line":1,"column":1739}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":134,"column":13},"generated":{"line":1,"column":1743}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":134,"column":17},"generated":{"line":1,"column":1745}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":134,"column":20},"generated":{"line":1,"column":1747}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"str","original":{"line":134,"column":25},"generated":{"line":1,"column":1749}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"length","original":{"line":134,"column":29},"generated":{"line":1,"column":1751}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":134,"column":37},"generated":{"line":1,"column":1758}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"il","original":{"line":134,"column":41},"generated":{"line":1,"column":1760}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":134,"column":45},"generated":{"line":1,"column":1762}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":134,"column":50},"generated":{"line":1,"column":1766}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":135,"column":6},"generated":{"line":1,"column":1767}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"code","original":{"line":135,"column":12},"generated":{"line":1,"column":1773}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"str","original":{"line":135,"column":19},"generated":{"line":1,"column":1775}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"charCodeAt","original":{"line":135,"column":23},"generated":{"line":1,"column":1777}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"i","original":{"line":135,"column":34},"generated":{"line":1,"column":1788}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":136,"column":12},"generated":{"line":1,"column":1791}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":136,"column":20},"generated":{"line":1,"column":1793}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"u2sTable","original":{"line":136,"column":25},"generated":{"line":1,"column":1798}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"code","original":{"line":136,"column":34},"generated":{"line":1,"column":1807}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":138,"column":6},"generated":{"line":1,"column":1810}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"undefined","original":{"line":138,"column":20},"generated":{"line":1,"column":1818}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":138,"column":10},"generated":{"line":1,"column":1822}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":139,"column":8},"generated":{"line":1,"column":1824}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":139,"column":14},"generated":{"line":1,"column":1829}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"code","original":{"line":139,"column":45},"generated":{"line":1,"column":1858}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"toString","original":{"line":139,"column":50},"generated":{"line":1,"column":1860}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":139,"column":59},"generated":{"line":1,"column":1869}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":140,"column":17},"generated":{"line":1,"column":1873}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":140,"column":25},"generated":{"line":1,"column":1875}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":141,"column":8},"generated":{"line":1,"column":1880}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":141,"column":14},"generated":{"line":1,"column":1882}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":141,"column":19},"generated":{"line":1,"column":1887}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":141,"column":28},"generated":{"line":1,"column":1890}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":141,"column":32},"generated":{"line":1,"column":1892}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":142,"column":8},"generated":{"line":1,"column":1897}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":142,"column":14},"generated":{"line":1,"column":1899}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":142,"column":27},"generated":{"line":1,"column":1904}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":142,"column":19},"generated":{"line":1,"column":1908}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":144,"column":8},"generated":{"line":1,"column":1912}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"push","original":{"line":144,"column":14},"generated":{"line":1,"column":1914}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":144,"column":27},"generated":{"line":1,"column":1919}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"value","original":{"line":144,"column":19},"generated":{"line":1,"column":1923}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":148,"column":4},"generated":{"line":1,"column":1926}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":148,"column":11},"generated":{"line":1,"column":1933}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"Uint8Array","original":{"line":148,"column":15},"generated":{"line":1,"column":1937}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"array","original":{"line":148,"column":26},"generated":{"line":1,"column":1948}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"getBindBones","original":{"line":151,"column":2},"generated":{"line":1,"column":1951}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":151,"column":15},"generated":{"line":1,"column":1964}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":153,"column":4},"generated":{"line":1,"column":1967}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"poseSkin","original":{"line":153,"column":10},"generated":{"line":1,"column":1973}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skin","original":{"line":153,"column":21},"generated":{"line":1,"column":1975}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"clone","original":{"line":153,"column":26},"generated":{"line":1,"column":1977}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","original":{"line":155,"column":4},"generated":{"line":1,"column":1985}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"poseSkin","original":{"line":154,"column":4},"generated":{"line":1,"column":1992}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"pose","original":{"line":154,"column":13},"generated":{"line":1,"column":1994}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"poseSkin","original":{"line":155,"column":11},"generated":{"line":1,"column":2001}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"skeleton","original":{"line":155,"column":20},"generated":{"line":1,"column":2003}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"bones","original":{"line":155,"column":29},"generated":{"line":1,"column":2012}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"exports","original":{"line":158,"column":1},"generated":{"line":1,"column":2019}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"MMDExporter","original":{"line":158,"column":1},"generated":{"line":1,"column":2027}},{"source":"node_modules/three-stdlib/exporters/MMDExporter.js","name":"MMDExporter","original":{"line":158,"column":1},"generated":{"line":1,"column":2039}}],"sources":{"node_modules/three-stdlib/exporters/MMDExporter.js":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Vector3, Quaternion, Matrix4 } from 'three';\nimport { CharsetEncoder } from 'mmd-parser';\n\n/**\n * Dependencies\n *  - mmd-parser https://github.com/takahirox/mmd-parser\n */\n\nclass MMDExporter {\n  constructor() {\n    _defineProperty(this, \"u2sTable\", void 0);\n  }\n\n  /* TODO: implement\n  // mesh -> pmd\n  this.parsePmd = function ( object ) {\n  };\n  */\n\n  /* TODO: implement\n  // mesh -> pmx\n  this.parsePmx = function ( object ) {\n  };\n  */\n\n  /* TODO: implement\n  // animation + skeleton -> vmd\n  this.parseVmd = function ( object ) {\n  };\n  */\n\n  /*\n   * skeleton -> vpd\n   * Returns Shift_JIS encoded Uint8Array. Otherwise return strings.\n   */\n  parseVpd(skin, outputShiftJis, useOriginalBones) {\n    if (skin.isSkinnedMesh !== true) {\n      console.warn('THREE.MMDExporter: parseVpd() requires SkinnedMesh instance.');\n      return null;\n    }\n\n    function toStringsFromNumber(num) {\n      if (Math.abs(num) < 1e-6) num = 0;\n      let a = num.toString();\n\n      if (a.indexOf('.') === -1) {\n        a += '.';\n      }\n\n      a += '000000';\n      const index = a.indexOf('.');\n      const d = a.slice(0, index);\n      const p = a.slice(index + 1, index + 7);\n      return d + '.' + p;\n    }\n\n    function toStringsFromArray(array) {\n      const a = [];\n\n      for (let i = 0, il = array.length; i < il; i++) {\n        a.push(toStringsFromNumber(array[i]));\n      }\n\n      return a.join(',');\n    }\n\n    skin.updateMatrixWorld(true);\n    const bones = skin.skeleton.bones;\n    const bones2 = this.getBindBones(skin);\n    const position = new Vector3();\n    const quaternion = new Quaternion();\n    const quaternion2 = new Quaternion();\n    const matrix = new Matrix4();\n    const array = [];\n    array.push('Vocaloid Pose Data file');\n    array.push('');\n    array.push((skin.name !== '' ? skin.name.replace(/\\s/g, '_') : 'skin') + '.osm;');\n    array.push(bones.length + ';');\n    array.push('');\n\n    for (let i = 0, il = bones.length; i < il; i++) {\n      const bone = bones[i];\n      const bone2 = bones2[i];\n      /*\n       * use the bone matrix saved before solving IK.\n       * see CCDIKSolver for the detail.\n       */\n\n      if (useOriginalBones === true && bone.userData.ik !== undefined && bone.userData.ik.originalMatrix !== undefined) {\n        matrix.fromArray(bone.userData.ik.originalMatrix);\n      } else {\n        matrix.copy(bone.matrix);\n      }\n\n      position.setFromMatrixPosition(matrix);\n      quaternion.setFromRotationMatrix(matrix);\n      const pArray = position.sub(bone2.position).toArray();\n      const qArray = quaternion2.copy(bone2.quaternion).conjugate().multiply(quaternion).toArray(); // right to left\n\n      pArray[2] = -pArray[2];\n      qArray[0] = -qArray[0];\n      qArray[1] = -qArray[1];\n      array.push('Bone' + i + '{' + bone.name);\n      array.push('  ' + toStringsFromArray(pArray) + ';');\n      array.push('  ' + toStringsFromArray(qArray) + ';');\n      array.push('}');\n      array.push('');\n    }\n\n    array.push('');\n    const lines = array.join('\\n');\n    return outputShiftJis === true ? this.unicodeToShiftjis(lines) : lines;\n  } // Unicode to Shift_JIS table\n\n\n  unicodeToShiftjis(str) {\n    if (this.u2sTable === undefined) {\n      const encoder = new CharsetEncoder(); // eslint-disable-line no-undef\n\n      const table = encoder.s2uTable;\n      this.u2sTable = {};\n      const keys = Object.keys(table);\n\n      for (let i = 0, il = keys.length; i < il; i++) {\n        let key = keys[i];\n        const value = table[key];\n        this.u2sTable[value] = parseInt(key);\n      }\n    }\n\n    const array = [];\n\n    for (let i = 0, il = str.length; i < il; i++) {\n      const code = str.charCodeAt(i);\n      const value = this.u2sTable[code];\n\n      if (value === undefined) {\n        throw 'cannot convert charcode 0x' + code.toString(16);\n      } else if (value > 0xff) {\n        array.push(value >> 8 & 0xff);\n        array.push(value & 0xff);\n      } else {\n        array.push(value & 0xff);\n      }\n    }\n\n    return new Uint8Array(array);\n  }\n\n  getBindBones(skin) {\n    // any more efficient ways?\n    const poseSkin = skin.clone();\n    poseSkin.pose();\n    return poseSkin.skeleton.bones;\n  }\n\n}\n\nexport { MMDExporter };\n"},"lineCount":null}},"error":null,"hash":"1c9c4727299a658035aed44dca143fec","cacheData":{"env":{}}}