{"id":"Xe0E","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js.map","includedInParent":true,"mtime":1724625361628},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/src/model.ts","includedInParent":true,"mtime":1724625361628},{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/package.json","includedInParent":true,"mtime":1724625361628},{"name":"@chevrotain/gast","loc":{"line":22,"column":21,"index":1029},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/gast/lib/src/api.js"},{"name":"lodash/map","loc":{"line":23,"column":36,"index":1086},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/lodash/map.js"},{"name":"lodash/flatten","loc":{"line":24,"column":40,"index":1142},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/lodash/flatten.js"},{"name":"lodash/values","loc":{"line":25,"column":39,"index":1201},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/lodash/values.js"},{"name":"lodash/some","loc":{"line":26,"column":37,"index":1257},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/lodash/some.js"},{"name":"lodash/groupBy","loc":{"line":27,"column":40,"index":1314},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/lodash/groupBy.js"},{"name":"lodash/assign","loc":{"line":28,"column":39,"index":1373},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/@chevrotain/cst-dts-gen/lib/src/model.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/lodash/assign.js"}],"generated":{"js":"\"use strict\";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.buildModel=void 0;var n=require(\"@chevrotain/gast\"),i=e(require(\"lodash/map\")),r=e(require(\"lodash/flatten\")),o=e(require(\"lodash/values\")),a=e(require(\"lodash/some\")),u=e(require(\"lodash/groupBy\")),p=e(require(\"lodash/assign\"));function l(t){var e=new s,n=(0,o.default)(t);return(0,i.default)(n,function(t){return e.visitRule(t)})}exports.buildModel=l;var s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.visitRule=function(t){var e=this.visitEach(t.definition),n=(0,u.default)(e,function(t){return t.propertyName}),r=(0,i.default)(n,function(t,e){var n=!(0,a.default)(t,function(t){return!t.canBeNull}),r=t[0].type;return t.length>1&&(r=(0,i.default)(t,function(t){return t.type})),{name:e,type:r,optional:n}});return{name:t.name,properties:r}},n.prototype.visitAlternative=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},n.prototype.visitOption=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},n.prototype.visitRepetition=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},n.prototype.visitRepetitionMandatory=function(t){return this.visitEach(t.definition)},n.prototype.visitRepetitionMandatoryWithSeparator=function(t){return this.visitEach(t.definition).concat({propertyName:t.separator.name,canBeNull:!0,type:c(t.separator)})},n.prototype.visitRepetitionWithSeparator=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0}).concat({propertyName:t.separator.name,canBeNull:!0,type:c(t.separator)})},n.prototype.visitAlternation=function(t){return this.visitEachAndOverrideWith(t.definition,{canBeNull:!0})},n.prototype.visitTerminal=function(t){return[{propertyName:t.label||t.terminalType.name,canBeNull:!1,type:c(t)}]},n.prototype.visitNonTerminal=function(t){return[{propertyName:t.label||t.nonTerminalName,canBeNull:!1,type:c(t)}]},n.prototype.visitEachAndOverrideWith=function(t,e){return(0,i.default)(this.visitEach(t),function(t){return(0,p.default)({},t,e)})},n.prototype.visitEach=function(t){var e=this;return(0,r.default)((0,i.default)(t,function(t){return e.visit(t)}))},n}(n.GAstVisitor);function c(t){return t instanceof n.NonTerminal?{kind:\"rule\",name:t.referencedRule.name}:{kind:\"token\"}}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/model.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":673}},{"source":"../../src/model.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":677}},{"source":"../../src/model.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":679}},{"source":"../../src/model.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":687}},{"source":"../../src/model.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":707}},{"source":"../../src/model.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":709}},{"source":"../../src/model.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":711}},{"source":"../../src/model.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":719}},{"source":"../../src/model.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":734}},{"source":"../../src/model.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":736}},{"source":"../../src/model.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":738}},{"source":"../../src/model.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":746}},{"source":"../../src/model.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":765}},{"source":"../../src/model.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":767}},{"source":"../../src/model.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":769}},{"source":"../../src/model.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":777}},{"source":"../../src/model.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":795}},{"source":"../../src/model.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":797}},{"source":"../../src/model.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":799}},{"source":"../../src/model.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":807}},{"source":"../../src/model.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":823}},{"source":"../../src/model.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":825}},{"source":"../../src/model.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":827}},{"source":"../../src/model.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":835}},{"source":"../../src/model.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":854}},{"source":"../../src/model.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":856}},{"source":"../../src/model.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":858}},{"source":"../../src/model.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":866}},{"source":"../../src/model.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":884}},{"source":"../../src/model.ts","name":null,"original":{"line":22,"column":16},"generated":{"line":1,"column":893}},{"source":"../../src/model.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":895}},{"source":"../../src/model.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":898}},{"source":"../../src/model.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":902}},{"source":"../../src/model.ts","name":null,"original":{"line":25,"column":20},"generated":{"line":1,"column":904}},{"source":"../../src/model.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":908}},{"source":"../../src/model.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":910}},{"source":"../../src/model.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":913}},{"source":"../../src/model.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":915}},{"source":"../../src/model.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":917}},{"source":"../../src/model.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":1,"column":926}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":929}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":936}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":938}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":940}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":949}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":951}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":24},"generated":{"line":1,"column":960}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":1,"column":963}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":1,"column":970}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":43},"generated":{"line":1,"column":972}},{"source":"../../src/model.ts","name":null,"original":{"line":27,"column":53},"generated":{"line":1,"column":982}},{"source":"../../src/model.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":987}},{"source":"../../src/model.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":995}},{"source":"../../src/model.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":1006}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":1008}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":1012}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":1014}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":1023}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":1026}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":1035}},{"source":"../../src/model.ts","name":null,"original":{"line":158,"column":0},"generated":{"line":1,"column":1086}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":41},"generated":{"line":1,"column":1093}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":41},"generated":{"line":1,"column":1095}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":41},"generated":{"line":1,"column":1097}},{"source":"../../src/model.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1100}},{"source":"../../src/model.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1102}},{"source":"../../src/model.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1112}},{"source":"../../src/model.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1122}},{"source":"../../src/model.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":1131}},{"source":"../../src/model.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":1134}},{"source":"../../src/model.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":1,"column":1138}},{"source":"../../src/model.ts","name":null,"original":{"line":54,"column":24},"generated":{"line":1,"column":1140}},{"source":"../../src/model.ts","name":null,"original":{"line":54,"column":29},"generated":{"line":1,"column":1145}},{"source":"../../src/model.ts","name":null,"original":{"line":54,"column":39},"generated":{"line":1,"column":1155}},{"source":"../../src/model.ts","name":null,"original":{"line":54,"column":44},"generated":{"line":1,"column":1157}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":1169}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":1172}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":1174}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":1176}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":28},"generated":{"line":1,"column":1185}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":41},"generated":{"line":1,"column":1187}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":42},"generated":{"line":1,"column":1196}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":49},"generated":{"line":1,"column":1199}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":49},"generated":{"line":1,"column":1206}},{"source":"../../src/model.ts","name":null,"original":{"line":56,"column":52},"generated":{"line":1,"column":1208}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1223}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":1,"column":1226}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":1,"column":1228}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":1,"column":1230}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":27},"generated":{"line":1,"column":1239}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":36},"generated":{"line":1,"column":1241}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":1,"column":1250}},{"source":"../../src/model.ts","name":null,"original":{"line":57,"column":44},"generated":{"line":1,"column":1252}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":1255}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":1,"column":1259}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":27},"generated":{"line":1,"column":1263}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":27},"generated":{"line":1,"column":1265}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":27},"generated":{"line":1,"column":1267}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":32},"generated":{"line":1,"column":1276}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":39},"generated":{"line":1,"column":1278}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":40},"generated":{"line":1,"column":1287}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":47},"generated":{"line":1,"column":1290}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":48},"generated":{"line":1,"column":1297}},{"source":"../../src/model.ts","name":null,"original":{"line":58,"column":51},"generated":{"line":1,"column":1299}},{"source":"../../src/model.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1311}},{"source":"../../src/model.ts","name":null,"original":{"line":62,"column":44},"generated":{"line":1,"column":1313}},{"source":"../../src/model.ts","name":null,"original":{"line":62,"column":50},"generated":{"line":1,"column":1315}},{"source":"../../src/model.ts","name":null,"original":{"line":62,"column":53},"generated":{"line":1,"column":1318}},{"source":"../../src/model.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":1,"column":1323}},{"source":"../../src/model.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":1,"column":1330}},{"source":"../../src/model.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":1332}},{"source":"../../src/model.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":1339}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1343}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1346}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1348}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":1350}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":27},"generated":{"line":1,"column":1359}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":34},"generated":{"line":1,"column":1361}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":35},"generated":{"line":1,"column":1370}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":41},"generated":{"line":1,"column":1373}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":41},"generated":{"line":1,"column":1380}},{"source":"../../src/model.ts","name":null,"original":{"line":64,"column":43},"generated":{"line":1,"column":1382}},{"source":"../../src/model.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":1,"column":1390}},{"source":"../../src/model.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1391}},{"source":"../../src/model.ts","name":null,"original":{"line":68,"column":14},"generated":{"line":1,"column":1396}},{"source":"../../src/model.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1398}},{"source":"../../src/model.ts","name":null,"original":{"line":69,"column":14},"generated":{"line":1,"column":1403}},{"source":"../../src/model.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":1405}},{"source":"../../src/model.ts","name":null,"original":{"line":70,"column":18},"generated":{"line":1,"column":1414}},{"source":"../../src/model.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":1419}},{"source":"../../src/model.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":1425}},{"source":"../../src/model.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":1,"column":1426}},{"source":"../../src/model.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":1431}},{"source":"../../src/model.ts","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":1433}},{"source":"../../src/model.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":1438}},{"source":"../../src/model.ts","name":null,"original":{"line":76,"column":18},"generated":{"line":1,"column":1449}},{"source":"../../src/model.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":1,"column":1453}},{"source":"../../src/model.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":1,"column":1455}},{"source":"../../src/model.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":1,"column":1465}},{"source":"../../src/model.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":1,"column":1482}},{"source":"../../src/model.ts","name":null,"original":{"line":80,"column":19},"generated":{"line":1,"column":1491}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":1494}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":1501}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":16},"generated":{"line":1,"column":1506}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":41},"generated":{"line":1,"column":1531}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":46},"generated":{"line":1,"column":1533}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":58},"generated":{"line":1,"column":1544}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":60},"generated":{"line":1,"column":1545}},{"source":"../../src/model.ts","name":null,"original":{"line":81,"column":71},"generated":{"line":1,"column":1556}},{"source":"../../src/model.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1561}},{"source":"../../src/model.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1563}},{"source":"../../src/model.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1573}},{"source":"../../src/model.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1585}},{"source":"../../src/model.ts","name":null,"original":{"line":84,"column":14},"generated":{"line":1,"column":1594}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":1,"column":1597}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":11},"generated":{"line":1,"column":1604}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":16},"generated":{"line":1,"column":1609}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":41},"generated":{"line":1,"column":1634}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":46},"generated":{"line":1,"column":1636}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":58},"generated":{"line":1,"column":1647}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":60},"generated":{"line":1,"column":1648}},{"source":"../../src/model.ts","name":null,"original":{"line":85,"column":71},"generated":{"line":1,"column":1659}},{"source":"../../src/model.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":1664}},{"source":"../../src/model.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":1666}},{"source":"../../src/model.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":1676}},{"source":"../../src/model.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":1692}},{"source":"../../src/model.ts","name":null,"original":{"line":88,"column":18},"generated":{"line":1,"column":1701}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":1,"column":1704}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":1711}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":16},"generated":{"line":1,"column":1716}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":41},"generated":{"line":1,"column":1741}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":46},"generated":{"line":1,"column":1743}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":58},"generated":{"line":1,"column":1754}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":60},"generated":{"line":1,"column":1755}},{"source":"../../src/model.ts","name":null,"original":{"line":89,"column":71},"generated":{"line":1,"column":1766}},{"source":"../../src/model.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1771}},{"source":"../../src/model.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1773}},{"source":"../../src/model.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1783}},{"source":"../../src/model.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1808}},{"source":"../../src/model.ts","name":null,"original":{"line":92,"column":27},"generated":{"line":1,"column":1817}},{"source":"../../src/model.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":1,"column":1820}},{"source":"../../src/model.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":1,"column":1827}},{"source":"../../src/model.ts","name":null,"original":{"line":93,"column":16},"generated":{"line":1,"column":1832}},{"source":"../../src/model.ts","name":null,"original":{"line":93,"column":26},"generated":{"line":1,"column":1842}},{"source":"../../src/model.ts","name":null,"original":{"line":93,"column":31},"generated":{"line":1,"column":1844}},{"source":"../../src/model.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":1,"column":1857}},{"source":"../../src/model.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":1,"column":1859}},{"source":"../../src/model.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":1,"column":1869}},{"source":"../../src/model.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":1,"column":1907}},{"source":"../../src/model.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":1,"column":1916}},{"source":"../../src/model.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":1,"column":1919}},{"source":"../../src/model.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":1926}},{"source":"../../src/model.ts","name":null,"original":{"line":99,"column":16},"generated":{"line":1,"column":1931}},{"source":"../../src/model.ts","name":null,"original":{"line":99,"column":26},"generated":{"line":1,"column":1941}},{"source":"../../src/model.ts","name":null,"original":{"line":99,"column":31},"generated":{"line":1,"column":1943}},{"source":"../../src/model.ts","name":null,"original":{"line":99,"column":43},"generated":{"line":1,"column":1955}},{"source":"../../src/model.ts","name":null,"original":{"line":99,"column":50},"generated":{"line":1,"column":1962}},{"source":"../../src/model.ts","name":null,"original":{"line":100,"column":6},"generated":{"line":1,"column":1963}},{"source":"../../src/model.ts","name":null,"original":{"line":100,"column":20},"generated":{"line":1,"column":1976}},{"source":"../../src/model.ts","name":null,"original":{"line":100,"column":25},"generated":{"line":1,"column":1978}},{"source":"../../src/model.ts","name":null,"original":{"line":100,"column":35},"generated":{"line":1,"column":1988}},{"source":"../../src/model.ts","name":null,"original":{"line":101,"column":6},"generated":{"line":1,"column":1993}},{"source":"../../src/model.ts","name":null,"original":{"line":101,"column":17},"generated":{"line":1,"column":2004}},{"source":"../../src/model.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":2006}},{"source":"../../src/model.ts","name":null,"original":{"line":102,"column":12},"generated":{"line":1,"column":2011}},{"source":"../../src/model.ts","name":null,"original":{"line":102,"column":20},"generated":{"line":1,"column":2013}},{"source":"../../src/model.ts","name":null,"original":{"line":102,"column":25},"generated":{"line":1,"column":2015}},{"source":"../../src/model.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":2029}},{"source":"../../src/model.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":2031}},{"source":"../../src/model.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":2041}},{"source":"../../src/model.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":2070}},{"source":"../../src/model.ts","name":null,"original":{"line":106,"column":31},"generated":{"line":1,"column":2079}},{"source":"../../src/model.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":1,"column":2082}},{"source":"../../src/model.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":2089}},{"source":"../../src/model.ts","name":null,"original":{"line":107,"column":16},"generated":{"line":1,"column":2094}},{"source":"../../src/model.ts","name":null,"original":{"line":107,"column":41},"generated":{"line":1,"column":2119}},{"source":"../../src/model.ts","name":null,"original":{"line":107,"column":46},"generated":{"line":1,"column":2121}},{"source":"../../src/model.ts","name":null,"original":{"line":107,"column":58},"generated":{"line":1,"column":2132}},{"source":"../../src/model.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":1,"column":2133}},{"source":"../../src/model.ts","name":null,"original":{"line":108,"column":17},"generated":{"line":1,"column":2144}},{"source":"../../src/model.ts","name":null,"original":{"line":109,"column":7},"generated":{"line":1,"column":2148}},{"source":"../../src/model.ts","name":null,"original":{"line":109,"column":14},"generated":{"line":1,"column":2155}},{"source":"../../src/model.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":1,"column":2156}},{"source":"../../src/model.ts","name":null,"original":{"line":110,"column":20},"generated":{"line":1,"column":2169}},{"source":"../../src/model.ts","name":null,"original":{"line":110,"column":25},"generated":{"line":1,"column":2171}},{"source":"../../src/model.ts","name":null,"original":{"line":110,"column":35},"generated":{"line":1,"column":2181}},{"source":"../../src/model.ts","name":null,"original":{"line":111,"column":6},"generated":{"line":1,"column":2186}},{"source":"../../src/model.ts","name":null,"original":{"line":111,"column":17},"generated":{"line":1,"column":2197}},{"source":"../../src/model.ts","name":null,"original":{"line":112,"column":6},"generated":{"line":1,"column":2199}},{"source":"../../src/model.ts","name":null,"original":{"line":112,"column":12},"generated":{"line":1,"column":2204}},{"source":"../../src/model.ts","name":null,"original":{"line":112,"column":20},"generated":{"line":1,"column":2206}},{"source":"../../src/model.ts","name":null,"original":{"line":112,"column":25},"generated":{"line":1,"column":2208}},{"source":"../../src/model.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":1,"column":2222}},{"source":"../../src/model.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":1,"column":2224}},{"source":"../../src/model.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":1,"column":2234}},{"source":"../../src/model.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":1,"column":2251}},{"source":"../../src/model.ts","name":null,"original":{"line":116,"column":19},"generated":{"line":1,"column":2260}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":1,"column":2263}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":11},"generated":{"line":1,"column":2270}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":16},"generated":{"line":1,"column":2275}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":41},"generated":{"line":1,"column":2300}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":46},"generated":{"line":1,"column":2302}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":58},"generated":{"line":1,"column":2313}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":60},"generated":{"line":1,"column":2314}},{"source":"../../src/model.ts","name":null,"original":{"line":117,"column":71},"generated":{"line":1,"column":2325}},{"source":"../../src/model.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":1,"column":2330}},{"source":"../../src/model.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":1,"column":2332}},{"source":"../../src/model.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":1,"column":2342}},{"source":"../../src/model.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":1,"column":2356}},{"source":"../../src/model.ts","name":null,"original":{"line":120,"column":16},"generated":{"line":1,"column":2365}},{"source":"../../src/model.ts","name":null,"original":{"line":121,"column":4},"generated":{"line":1,"column":2368}},{"source":"../../src/model.ts","name":null,"original":{"line":121,"column":11},"generated":{"line":1,"column":2374}},{"source":"../../src/model.ts","name":null,"original":{"line":122,"column":6},"generated":{"line":1,"column":2375}},{"source":"../../src/model.ts","name":null,"original":{"line":123,"column":8},"generated":{"line":1,"column":2376}},{"source":"../../src/model.ts","name":null,"original":{"line":123,"column":22},"generated":{"line":1,"column":2389}},{"source":"../../src/model.ts","name":null,"original":{"line":123,"column":27},"generated":{"line":1,"column":2391}},{"source":"../../src/model.ts","name":null,"original":{"line":123,"column":36},"generated":{"line":1,"column":2398}},{"source":"../../src/model.ts","name":null,"original":{"line":123,"column":41},"generated":{"line":1,"column":2400}},{"source":"../../src/model.ts","name":null,"original":{"line":123,"column":54},"generated":{"line":1,"column":2413}},{"source":"../../src/model.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":2418}},{"source":"../../src/model.ts","name":null,"original":{"line":124,"column":19},"generated":{"line":1,"column":2429}},{"source":"../../src/model.ts","name":null,"original":{"line":125,"column":8},"generated":{"line":1,"column":2431}},{"source":"../../src/model.ts","name":null,"original":{"line":125,"column":14},"generated":{"line":1,"column":2436}},{"source":"../../src/model.ts","name":null,"original":{"line":125,"column":22},"generated":{"line":1,"column":2438}},{"source":"../../src/model.ts","name":null,"original":{"line":130,"column":2},"generated":{"line":1,"column":2444}},{"source":"../../src/model.ts","name":null,"original":{"line":130,"column":2},"generated":{"line":1,"column":2446}},{"source":"../../src/model.ts","name":null,"original":{"line":130,"column":2},"generated":{"line":1,"column":2456}},{"source":"../../src/model.ts","name":null,"original":{"line":130,"column":2},"generated":{"line":1,"column":2473}},{"source":"../../src/model.ts","name":null,"original":{"line":130,"column":19},"generated":{"line":1,"column":2482}},{"source":"../../src/model.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":2485}},{"source":"../../src/model.ts","name":null,"original":{"line":131,"column":11},"generated":{"line":1,"column":2491}},{"source":"../../src/model.ts","name":null,"original":{"line":132,"column":6},"generated":{"line":1,"column":2492}},{"source":"../../src/model.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":1,"column":2493}},{"source":"../../src/model.ts","name":null,"original":{"line":133,"column":22},"generated":{"line":1,"column":2506}},{"source":"../../src/model.ts","name":null,"original":{"line":133,"column":27},"generated":{"line":1,"column":2508}},{"source":"../../src/model.ts","name":null,"original":{"line":133,"column":36},"generated":{"line":1,"column":2515}},{"source":"../../src/model.ts","name":null,"original":{"line":133,"column":41},"generated":{"line":1,"column":2517}},{"source":"../../src/model.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":2533}},{"source":"../../src/model.ts","name":null,"original":{"line":134,"column":19},"generated":{"line":1,"column":2544}},{"source":"../../src/model.ts","name":null,"original":{"line":135,"column":8},"generated":{"line":1,"column":2546}},{"source":"../../src/model.ts","name":null,"original":{"line":135,"column":14},"generated":{"line":1,"column":2551}},{"source":"../../src/model.ts","name":null,"original":{"line":135,"column":22},"generated":{"line":1,"column":2553}},{"source":"../../src/model.ts","name":null,"original":{"line":140,"column":10},"generated":{"line":1,"column":2559}},{"source":"../../src/model.ts","name":null,"original":{"line":140,"column":10},"generated":{"line":1,"column":2561}},{"source":"../../src/model.ts","name":null,"original":{"line":140,"column":10},"generated":{"line":1,"column":2571}},{"source":"../../src/model.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":1,"column":2596}},{"source":"../../src/model.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":1,"column":2605}},{"source":"../../src/model.ts","name":null,"original":{"line":142,"column":4},"generated":{"line":1,"column":2607}},{"source":"../../src/model.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":1,"column":2610}},{"source":"../../src/model.ts","name":null,"original":{"line":144,"column":11},"generated":{"line":1,"column":2617}},{"source":"../../src/model.ts","name":null,"original":{"line":144,"column":11},"generated":{"line":1,"column":2619}},{"source":"../../src/model.ts","name":null,"original":{"line":144,"column":11},"generated":{"line":1,"column":2621}},{"source":"../../src/model.ts","name":null,"original":{"line":145,"column":6},"generated":{"line":1,"column":2630}},{"source":"../../src/model.ts","name":null,"original":{"line":145,"column":11},"generated":{"line":1,"column":2635}},{"source":"../../src/model.ts","name":null,"original":{"line":145,"column":21},"generated":{"line":1,"column":2645}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":1,"column":2648}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":7},"generated":{"line":1,"column":2657}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":22},"generated":{"line":1,"column":2660}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":22},"generated":{"line":1,"column":2667}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":22},"generated":{"line":1,"column":2669}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":22},"generated":{"line":1,"column":2671}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":29},"generated":{"line":1,"column":2680}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":33},"generated":{"line":1,"column":2683}},{"source":"../../src/model.ts","name":null,"original":{"line":146,"column":45},"generated":{"line":1,"column":2685}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":10},"generated":{"line":1,"column":2691}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":10},"generated":{"line":1,"column":2693}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":10},"generated":{"line":1,"column":2703}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":2},"generated":{"line":1,"column":2713}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":20},"generated":{"line":1,"column":2722}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":2},"generated":{"line":1,"column":2725}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":2},"generated":{"line":1,"column":2729}},{"source":"../../src/model.ts","name":null,"original":{"line":150,"column":2},"generated":{"line":1,"column":2731}},{"source":"../../src/model.ts","name":null,"original":{"line":151,"column":4},"generated":{"line":1,"column":2736}},{"source":"../../src/model.ts","name":null,"original":{"line":151,"column":11},"generated":{"line":1,"column":2743}},{"source":"../../src/model.ts","name":null,"original":{"line":151,"column":11},"generated":{"line":1,"column":2745}},{"source":"../../src/model.ts","name":null,"original":{"line":151,"column":11},"generated":{"line":1,"column":2747}},{"source":"../../src/model.ts","name":null,"original":{"line":152,"column":6},"generated":{"line":1,"column":2757}},{"source":"../../src/model.ts","name":null,"original":{"line":152,"column":6},"generated":{"line":1,"column":2759}},{"source":"../../src/model.ts","name":null,"original":{"line":152,"column":6},"generated":{"line":1,"column":2761}},{"source":"../../src/model.ts","name":null,"original":{"line":153,"column":8},"generated":{"line":1,"column":2770}},{"source":"../../src/model.ts","name":null,"original":{"line":154,"column":8},"generated":{"line":1,"column":2772}},{"source":"../../src/model.ts","name":null,"original":{"line":154,"column":9},"generated":{"line":1,"column":2781}},{"source":"../../src/model.ts","name":null,"original":{"line":154,"column":24},"generated":{"line":1,"column":2784}},{"source":"../../src/model.ts","name":null,"original":{"line":154,"column":24},"generated":{"line":1,"column":2791}},{"source":"../../src/model.ts","name":null,"original":{"line":154,"column":29},"generated":{"line":1,"column":2793}},{"source":"../../src/model.ts","name":null,"original":{"line":154,"column":35},"generated":{"line":1,"column":2799}},{"source":"../../src/model.ts","name":null,"original":{"line":158,"column":0},"generated":{"line":1,"column":2806}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":2808}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":41},"generated":{"line":1,"column":2809}},{"source":"../../src/model.ts","name":null,"original":{"line":52,"column":41},"generated":{"line":1,"column":2811}},{"source":"../../src/model.ts","name":null,"original":{"line":166,"column":0},"generated":{"line":1,"column":2824}},{"source":"../../src/model.ts","name":null,"original":{"line":166,"column":9},"generated":{"line":1,"column":2833}},{"source":"../../src/model.ts","name":null,"original":{"line":167,"column":2},"generated":{"line":1,"column":2835}},{"source":"../../src/model.ts","name":null,"original":{"line":169,"column":2},"generated":{"line":1,"column":2838}},{"source":"../../src/model.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":1,"column":2845}},{"source":"../../src/model.ts","name":null,"original":{"line":169,"column":28},"generated":{"line":1,"column":2858}},{"source":"../../src/model.ts","name":null,"original":{"line":169,"column":28},"generated":{"line":1,"column":2860}},{"source":"../../src/model.ts","name":null,"original":{"line":170,"column":11},"generated":{"line":1,"column":2872}},{"source":"../../src/model.ts","name":null,"original":{"line":171,"column":6},"generated":{"line":1,"column":2873}},{"source":"../../src/model.ts","name":null,"original":{"line":171,"column":12},"generated":{"line":1,"column":2878}},{"source":"../../src/model.ts","name":null,"original":{"line":172,"column":6},"generated":{"line":1,"column":2885}},{"source":"../../src/model.ts","name":null,"original":{"line":172,"column":12},"generated":{"line":1,"column":2890}},{"source":"../../src/model.ts","name":null,"original":{"line":172,"column":23},"generated":{"line":1,"column":2892}},{"source":"../../src/model.ts","name":null,"original":{"line":172,"column":38},"generated":{"line":1,"column":2907}},{"source":"../../src/model.ts","name":null,"original":{"line":176,"column":9},"generated":{"line":1,"column":2913}},{"source":"../../src/model.ts","name":null,"original":{"line":176,"column":11},"generated":{"line":1,"column":2914}},{"source":"../../src/model.ts","name":null,"original":{"line":176,"column":17},"generated":{"line":1,"column":2919}}],"sources":{"../../src/model.ts":"import type {\n  Alternation,\n  Alternative,\n  IProduction,\n  Option,\n  Repetition,\n  RepetitionMandatory,\n  RepetitionMandatoryWithSeparator,\n  RepetitionWithSeparator,\n  Rule,\n  Terminal,\n  TokenType\n} from \"@chevrotain/types\"\nimport { NonTerminal, GAstVisitor } from \"@chevrotain/gast\"\nimport map from \"lodash/map\"\nimport flatten from \"lodash/flatten\"\nimport values from \"lodash/values\"\nimport some from \"lodash/some\"\nimport groupBy from \"lodash/groupBy\"\nimport assign from \"lodash/assign\"\n\nexport function buildModel(\n  productions: Record<string, Rule>\n): CstNodeTypeDefinition[] {\n  const generator = new CstNodeDefinitionGenerator()\n  const allRules = values(productions)\n  return map(allRules, (rule) => generator.visitRule(rule))\n}\n\nexport type CstNodeTypeDefinition = {\n  name: string\n  properties: PropertyTypeDefinition[]\n}\n\nexport type PropertyTypeDefinition = {\n  name: string\n  type: PropertyArrayType\n  optional: boolean\n}\n\nexport type PropertyArrayType =\n  | TokenArrayType\n  | RuleArrayType\n  | (TokenArrayType | RuleArrayType)[]\n\nexport type TokenArrayType = { kind: \"token\" }\nexport type RuleArrayType = {\n  kind: \"rule\"\n  name: string\n}\n\nclass CstNodeDefinitionGenerator extends GAstVisitor {\n  visitRule(node: Rule): CstNodeTypeDefinition {\n    const rawElements = this.visitEach(node.definition)\n\n    const grouped = groupBy(rawElements, (el) => el.propertyName)\n    const properties = map(grouped, (group, propertyName) => {\n      const allNullable = !some(group, (el) => !el.canBeNull)\n\n      // In an alternation with a label a property name can have\n      // multiple types.\n      let propertyType: PropertyArrayType = group[0].type\n      if (group.length > 1) {\n        propertyType = map(group, (g) => g.type)\n      }\n\n      return {\n        name: propertyName,\n        type: propertyType,\n        optional: allNullable\n      } as PropertyTypeDefinition\n    })\n\n    return {\n      name: node.name,\n      properties: properties\n    }\n  }\n\n  visitAlternative(node: Alternative) {\n    return this.visitEachAndOverrideWith(node.definition, { canBeNull: true })\n  }\n\n  visitOption(node: Option) {\n    return this.visitEachAndOverrideWith(node.definition, { canBeNull: true })\n  }\n\n  visitRepetition(node: Repetition) {\n    return this.visitEachAndOverrideWith(node.definition, { canBeNull: true })\n  }\n\n  visitRepetitionMandatory(node: RepetitionMandatory) {\n    return this.visitEach(node.definition)\n  }\n\n  visitRepetitionMandatoryWithSeparator(\n    node: RepetitionMandatoryWithSeparator\n  ) {\n    return this.visitEach(node.definition).concat({\n      propertyName: node.separator.name,\n      canBeNull: true,\n      type: getType(node.separator)\n    })\n  }\n\n  visitRepetitionWithSeparator(node: RepetitionWithSeparator) {\n    return this.visitEachAndOverrideWith(node.definition, {\n      canBeNull: true\n    }).concat({\n      propertyName: node.separator.name,\n      canBeNull: true,\n      type: getType(node.separator)\n    })\n  }\n\n  visitAlternation(node: Alternation) {\n    return this.visitEachAndOverrideWith(node.definition, { canBeNull: true })\n  }\n\n  visitTerminal(node: Terminal): PropertyTupleElement[] {\n    return [\n      {\n        propertyName: node.label || node.terminalType.name,\n        canBeNull: false,\n        type: getType(node)\n      }\n    ]\n  }\n\n  visitNonTerminal(node: NonTerminal): PropertyTupleElement[] {\n    return [\n      {\n        propertyName: node.label || node.nonTerminalName,\n        canBeNull: false,\n        type: getType(node)\n      }\n    ]\n  }\n\n  private visitEachAndOverrideWith(\n    definition: IProduction[],\n    override: Partial<PropertyTupleElement>\n  ) {\n    return map(\n      this.visitEach(definition),\n      (definition) => assign({}, definition, override) as PropertyTupleElement\n    )\n  }\n\n  private visitEach(definition: IProduction[]) {\n    return flatten<PropertyTupleElement>(\n      map(\n        definition,\n        (definition) => this.visit(definition) as PropertyTupleElement[]\n      )\n    )\n  }\n}\n\ntype PropertyTupleElement = {\n  propertyName: string\n  canBeNull: boolean\n  type: TokenArrayType | RuleArrayType\n}\n\nfunction getType(\n  production: Terminal | NonTerminal | TokenType\n): TokenArrayType | RuleArrayType {\n  if (production instanceof NonTerminal) {\n    return {\n      kind: \"rule\",\n      name: production.referencedRule.name\n    }\n  }\n\n  return { kind: \"token\" }\n}\n"},"lineCount":null}},"error":null,"hash":"878e1a603a336d45de6a9c85869c2dc9","cacheData":{"env":{}}}