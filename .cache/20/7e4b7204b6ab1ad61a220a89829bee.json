{"id":"oYlI","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1724625312988},{"name":"three","loc":{"line":1,"column":24,"index":24},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/shaders/BokehShader2.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three/build/three.module.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BokehShader2=exports.BokehDepthShader=void 0;var t=require(\"three\");const e=exports.BokehShader2={uniforms:{textureWidth:{value:1},textureHeight:{value:1},focalDepth:{value:1},focalLength:{value:24},fstop:{value:.9},tColor:{value:null},tDepth:{value:null},maxblur:{value:1},showFocus:{value:0},manualdof:{value:0},vignetting:{value:0},depthblur:{value:0},threshold:{value:.5},gain:{value:2},bias:{value:.5},fringe:{value:.7},znear:{value:.1},zfar:{value:100},noise:{value:1},dithering:{value:1e-4},pentagon:{value:0},shaderFocus:{value:1},focusCoords:{value:new t.Vector2}},vertexShader:[\"varying vec2 vUv;\",\"void main() {\",\"\\tvUv = uv;\",\"\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"#include <common>\",\"varying vec2 vUv;\",\"uniform sampler2D tColor;\",\"uniform sampler2D tDepth;\",\"uniform float textureWidth;\",\"uniform float textureHeight;\",\"uniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below\",\"uniform float focalLength; //focal length in mm\",\"uniform float fstop; //f-stop value\",\"uniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)\",\"/*\",\"make sure that these two values are the same for your camera, otherwise distances will be wrong.\",\"*/\",\"uniform float znear; // camera clipping start\",\"uniform float zfar; // camera clipping end\",\"//------------------------------------------\",\"//user variables\",\"const int samples = SAMPLES; //samples on the first ring\",\"const int rings = RINGS; //ring count\",\"const int maxringsamples = rings * samples;\",\"uniform bool manualdof; // manual dof calculation\",\"float ndofstart = 1.0; // near dof blur start\",\"float ndofdist = 2.0; // near dof blur falloff distance\",\"float fdofstart = 1.0; // far dof blur start\",\"float fdofdist = 3.0; // far dof blur falloff distance\",\"float CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)\",\"uniform bool vignetting; // use optical lens vignetting\",\"float vignout = 1.3; // vignetting outer border\",\"float vignin = 0.0; // vignetting inner border\",\"float vignfade = 22.0; // f-stops till vignete fades\",\"uniform bool shaderFocus;\",\"// disable if you use external focalDepth value\",\"uniform vec2 focusCoords;\",\"// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)\",\"// if center of screen use vec2(0.5, 0.5);\",\"uniform float maxblur;\",\"//clamp value of max blur (0.0 = no blur, 1.0 default)\",\"uniform float threshold; // highlight threshold;\",\"uniform float gain; // highlight gain;\",\"uniform float bias; // bokeh edge bias\",\"uniform float fringe; // bokeh chromatic aberration / fringing\",\"uniform bool noise; //use noise instead of pattern for sample dithering\",\"uniform float dithering;\",\"uniform bool depthblur; // blur the depth buffer\",\"float dbsize = 1.25; // depth blur size\",\"/*\",\"next part is experimental\",\"not looking good with small sample and ring count\",\"looks okay starting from samples = 4, rings = 4\",\"*/\",\"uniform bool pentagon; //use pentagon as bokeh shape?\",\"float feather = 0.4; //pentagon shape feather\",\"//------------------------------------------\",\"float penta(vec2 coords) {\",\"\\t//pentagonal shape\",\"\\tfloat scale = float(rings) - 1.3;\",\"\\tvec4  HS0 = vec4( 1.0,         0.0,         0.0,  1.0);\",\"\\tvec4  HS1 = vec4( 0.309016994, 0.951056516, 0.0,  1.0);\",\"\\tvec4  HS2 = vec4(-0.809016994, 0.587785252, 0.0,  1.0);\",\"\\tvec4  HS3 = vec4(-0.809016994,-0.587785252, 0.0,  1.0);\",\"\\tvec4  HS4 = vec4( 0.309016994,-0.951056516, 0.0,  1.0);\",\"\\tvec4  HS5 = vec4( 0.0        ,0.0         , 1.0,  1.0);\",\"\\tvec4  one = vec4( 1.0 );\",\"\\tvec4 P = vec4((coords),vec2(scale, scale));\",\"\\tvec4 dist = vec4(0.0);\",\"\\tfloat inorout = -4.0;\",\"\\tdist.x = dot( P, HS0 );\",\"\\tdist.y = dot( P, HS1 );\",\"\\tdist.z = dot( P, HS2 );\",\"\\tdist.w = dot( P, HS3 );\",\"\\tdist = smoothstep( -feather, feather, dist );\",\"\\tinorout += dot( dist, one );\",\"\\tdist.x = dot( P, HS4 );\",\"\\tdist.y = HS5.w - abs( P.z );\",\"\\tdist = smoothstep( -feather, feather, dist );\",\"\\tinorout += dist.x;\",\"\\treturn clamp( inorout, 0.0, 1.0 );\",\"}\",\"float bdepth(vec2 coords) {\",\"\\t// Depth buffer blur\",\"\\tfloat d = 0.0;\",\"\\tfloat kernel[9];\",\"\\tvec2 offset[9];\",\"\\tvec2 wh = vec2(1.0/textureWidth,1.0/textureHeight) * dbsize;\",\"\\toffset[0] = vec2(-wh.x,-wh.y);\",\"\\toffset[1] = vec2( 0.0, -wh.y);\",\"\\toffset[2] = vec2( wh.x -wh.y);\",\"\\toffset[3] = vec2(-wh.x,  0.0);\",\"\\toffset[4] = vec2( 0.0,   0.0);\",\"\\toffset[5] = vec2( wh.x,  0.0);\",\"\\toffset[6] = vec2(-wh.x, wh.y);\",\"\\toffset[7] = vec2( 0.0,  wh.y);\",\"\\toffset[8] = vec2( wh.x, wh.y);\",\"\\tkernel[0] = 1.0/16.0;   kernel[1] = 2.0/16.0;   kernel[2] = 1.0/16.0;\",\"\\tkernel[3] = 2.0/16.0;   kernel[4] = 4.0/16.0;   kernel[5] = 2.0/16.0;\",\"\\tkernel[6] = 1.0/16.0;   kernel[7] = 2.0/16.0;   kernel[8] = 1.0/16.0;\",\"\\tfor( int i=0; i<9; i++ ) {\",\"\\t\\tfloat tmp = texture2D(tDepth, coords + offset[i]).r;\",\"\\t\\td += tmp * kernel[i];\",\"\\t}\",\"\\treturn d;\",\"}\",\"vec3 color(vec2 coords,float blur) {\",\"\\t//processing the sample\",\"\\tvec3 col = vec3(0.0);\",\"\\tvec2 texel = vec2(1.0/textureWidth,1.0/textureHeight);\",\"\\tcol.r = texture2D(tColor,coords + vec2(0.0,1.0)*texel*fringe*blur).r;\",\"\\tcol.g = texture2D(tColor,coords + vec2(-0.866,-0.5)*texel*fringe*blur).g;\",\"\\tcol.b = texture2D(tColor,coords + vec2(0.866,-0.5)*texel*fringe*blur).b;\",\"\\tvec3 lumcoeff = vec3(0.299,0.587,0.114);\",\"\\tfloat lum = dot(col.rgb, lumcoeff);\",\"\\tfloat thresh = max((lum-threshold)*gain, 0.0);\",\"\\treturn col+mix(vec3(0.0),col,thresh*blur);\",\"}\",\"vec3 debugFocus(vec3 col, float blur, float depth) {\",\"\\tfloat edge = 0.002*depth; //distance based edge smoothing\",\"\\tfloat m = clamp(smoothstep(0.0,edge,blur),0.0,1.0);\",\"\\tfloat e = clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);\",\"\\tcol = mix(col,vec3(1.0,0.5,0.0),(1.0-m)*0.6);\",\"\\tcol = mix(col,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);\",\"\\treturn col;\",\"}\",\"float linearize(float depth) {\",\"\\treturn -zfar * znear / (depth * (zfar - znear) - zfar);\",\"}\",\"float vignette() {\",\"\\tfloat dist = distance(vUv.xy, vec2(0.5,0.5));\",\"\\tdist = smoothstep(vignout+(fstop/vignfade), vignin+(fstop/vignfade), dist);\",\"\\treturn clamp(dist,0.0,1.0);\",\"}\",\"float gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {\",\"\\tfloat rings2 = float(rings);\",\"\\tfloat step = PI*2.0 / float(ringsamples);\",\"\\tfloat pw = cos(j*step)*i;\",\"\\tfloat ph = sin(j*step)*i;\",\"\\tfloat p = 1.0;\",\"\\tif (pentagon) {\",\"\\t\\tp = penta(vec2(pw,ph));\",\"\\t}\",\"\\tcol += color(vUv.xy + vec2(pw*w,ph*h), blur) * mix(1.0, i/rings2, bias) * p;\",\"\\treturn 1.0 * mix(1.0, i /rings2, bias) * p;\",\"}\",\"void main() {\",\"\\t//scene depth calculation\",\"\\tfloat depth = linearize(texture2D(tDepth,vUv.xy).x);\",\"\\t// Blur depth?\",\"\\tif ( depthblur ) {\",\"\\t\\tdepth = linearize(bdepth(vUv.xy));\",\"\\t}\",\"\\t//focal plane calculation\",\"\\tfloat fDepth = focalDepth;\",\"\\tif (shaderFocus) {\",\"\\t\\tfDepth = linearize(texture2D(tDepth,focusCoords).x);\",\"\\t}\",\"\\t// dof blur factor calculation\",\"\\tfloat blur = 0.0;\",\"\\tif (manualdof) {\",\"\\t\\tfloat a = depth-fDepth; // Focal plane\",\"\\t\\tfloat b = (a-fdofstart)/fdofdist; // Far DoF\",\"\\t\\tfloat c = (-a-ndofstart)/ndofdist; // Near Dof\",\"\\t\\tblur = (a>0.0) ? b : c;\",\"\\t} else {\",\"\\t\\tfloat f = focalLength; // focal length in mm\",\"\\t\\tfloat d = fDepth*1000.0; // focal plane in mm\",\"\\t\\tfloat o = depth*1000.0; // depth in mm\",\"\\t\\tfloat a = (o*f)/(o-f);\",\"\\t\\tfloat b = (d*f)/(d-f);\",\"\\t\\tfloat c = (d-f)/(d*fstop*CoC);\",\"\\t\\tblur = abs(a-b)*c;\",\"\\t}\",\"\\tblur = clamp(blur,0.0,1.0);\",\"\\t// calculation of pattern for dithering\",\"\\tvec2 noise = vec2(rand(vUv.xy), rand( vUv.xy + vec2( 0.4, 0.6 ) ) )*dithering*blur;\",\"\\t// getting blur x and y step factor\",\"\\tfloat w = (1.0/textureWidth)*blur*maxblur+noise.x;\",\"\\tfloat h = (1.0/textureHeight)*blur*maxblur+noise.y;\",\"\\t// calculation of final color\",\"\\tvec3 col = vec3(0.0);\",\"\\tif(blur < 0.05) {\",\"\\t\\t//some optimization thingy\",\"\\t\\tcol = texture2D(tColor, vUv.xy).rgb;\",\"\\t} else {\",\"\\t\\tcol = texture2D(tColor, vUv.xy).rgb;\",\"\\t\\tfloat s = 1.0;\",\"\\t\\tint ringsamples;\",\"\\t\\tfor (int i = 1; i <= rings; i++) {\",\"\\t\\t\\t/*unboxstart*/\",\"\\t\\t\\tringsamples = i * samples;\",\"\\t\\t\\tfor (int j = 0 ; j < maxringsamples ; j++) {\",\"\\t\\t\\t\\tif (j >= ringsamples) break;\",\"\\t\\t\\t\\ts += gather(float(i), float(j), ringsamples, col, w, h, blur);\",\"\\t\\t\\t}\",\"\\t\\t\\t/*unboxend*/\",\"\\t\\t}\",\"\\t\\tcol /= s; //divide by sample count\",\"\\t}\",\"\\tif (showFocus) {\",\"\\t\\tcol = debugFocus(col, blur, depth);\",\"\\t}\",\"\\tif (vignetting) {\",\"\\t\\tcol *= vignette();\",\"\\t}\",\"\\tgl_FragColor.rgb = col;\",\"\\tgl_FragColor.a = 1.0;\",\"} \"].join(\"\\n\")},o=exports.BokehDepthShader={uniforms:{mNear:{value:1},mFar:{value:1e3}},vertexShader:[\"varying float vViewZDepth;\",\"void main() {\",\"\\t#include <begin_vertex>\",\"\\t#include <project_vertex>\",\"\\tvViewZDepth = - mvPosition.z;\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform float mNear;\",\"uniform float mFar;\",\"varying float vViewZDepth;\",\"void main() {\",\"\\tfloat color = 1.0 - smoothstep( mNear, mFar, vViewZDepth );\",\"\\tgl_FragColor = vec4( vec3( color ), 1.0 );\",\"} \"].join(\"\\n\")};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":89}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":97}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":96,"column":1},"generated":{"line":1,"column":119}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":1,"column":0},"generated":{"line":1,"column":121}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"_three","original":{"line":1,"column":0},"generated":{"line":1,"column":125}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":127}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":1,"column":0},"generated":{"line":1,"column":135}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":10,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"BokehShader2","original":{"line":10,"column":6},"generated":{"line":1,"column":150}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"exports","original":{"line":10,"column":18},"generated":{"line":1,"column":152}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"BokehShader2","original":{"line":10,"column":18},"generated":{"line":1,"column":160}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":10,"column":21},"generated":{"line":1,"column":173}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"uniforms","original":{"line":11,"column":2},"generated":{"line":1,"column":174}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":11,"column":12},"generated":{"line":1,"column":183}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"textureWidth","original":{"line":12,"column":4},"generated":{"line":1,"column":184}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":12,"column":18},"generated":{"line":1,"column":197}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":13,"column":6},"generated":{"line":1,"column":198}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":13,"column":13},"generated":{"line":1,"column":204}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"textureHeight","original":{"line":15,"column":4},"generated":{"line":1,"column":207}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":15,"column":19},"generated":{"line":1,"column":221}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":16,"column":6},"generated":{"line":1,"column":222}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":16,"column":13},"generated":{"line":1,"column":228}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"focalDepth","original":{"line":18,"column":4},"generated":{"line":1,"column":231}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":18,"column":16},"generated":{"line":1,"column":242}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":19,"column":6},"generated":{"line":1,"column":243}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":19,"column":13},"generated":{"line":1,"column":249}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"focalLength","original":{"line":21,"column":4},"generated":{"line":1,"column":252}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":21,"column":17},"generated":{"line":1,"column":264}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":22,"column":6},"generated":{"line":1,"column":265}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":22,"column":13},"generated":{"line":1,"column":271}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"fstop","original":{"line":24,"column":4},"generated":{"line":1,"column":275}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":24,"column":11},"generated":{"line":1,"column":281}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":25,"column":6},"generated":{"line":1,"column":282}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":25,"column":13},"generated":{"line":1,"column":288}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"tColor","original":{"line":27,"column":4},"generated":{"line":1,"column":292}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":27,"column":12},"generated":{"line":1,"column":299}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":28,"column":6},"generated":{"line":1,"column":300}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":28,"column":13},"generated":{"line":1,"column":306}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"tDepth","original":{"line":30,"column":4},"generated":{"line":1,"column":312}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":30,"column":12},"generated":{"line":1,"column":319}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":31,"column":6},"generated":{"line":1,"column":320}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":31,"column":13},"generated":{"line":1,"column":326}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"maxblur","original":{"line":33,"column":4},"generated":{"line":1,"column":332}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":33,"column":13},"generated":{"line":1,"column":340}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":34,"column":6},"generated":{"line":1,"column":341}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":34,"column":13},"generated":{"line":1,"column":347}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"showFocus","original":{"line":36,"column":4},"generated":{"line":1,"column":350}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":36,"column":15},"generated":{"line":1,"column":360}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":37,"column":6},"generated":{"line":1,"column":361}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":37,"column":13},"generated":{"line":1,"column":367}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"manualdof","original":{"line":39,"column":4},"generated":{"line":1,"column":370}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":39,"column":15},"generated":{"line":1,"column":380}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":40,"column":6},"generated":{"line":1,"column":381}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":40,"column":13},"generated":{"line":1,"column":387}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"vignetting","original":{"line":42,"column":4},"generated":{"line":1,"column":390}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":42,"column":16},"generated":{"line":1,"column":401}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":43,"column":6},"generated":{"line":1,"column":402}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":43,"column":13},"generated":{"line":1,"column":408}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"depthblur","original":{"line":45,"column":4},"generated":{"line":1,"column":411}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":45,"column":15},"generated":{"line":1,"column":421}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":46,"column":6},"generated":{"line":1,"column":422}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":46,"column":13},"generated":{"line":1,"column":428}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"threshold","original":{"line":48,"column":4},"generated":{"line":1,"column":431}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":48,"column":15},"generated":{"line":1,"column":441}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":49,"column":6},"generated":{"line":1,"column":442}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":49,"column":13},"generated":{"line":1,"column":448}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"gain","original":{"line":51,"column":4},"generated":{"line":1,"column":452}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":51,"column":10},"generated":{"line":1,"column":457}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":52,"column":6},"generated":{"line":1,"column":458}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":52,"column":13},"generated":{"line":1,"column":464}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"bias","original":{"line":54,"column":4},"generated":{"line":1,"column":467}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":54,"column":10},"generated":{"line":1,"column":472}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":55,"column":6},"generated":{"line":1,"column":473}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":55,"column":13},"generated":{"line":1,"column":479}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"fringe","original":{"line":57,"column":4},"generated":{"line":1,"column":483}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":57,"column":12},"generated":{"line":1,"column":490}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":58,"column":6},"generated":{"line":1,"column":491}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":58,"column":13},"generated":{"line":1,"column":497}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"znear","original":{"line":60,"column":4},"generated":{"line":1,"column":501}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":60,"column":11},"generated":{"line":1,"column":507}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":61,"column":6},"generated":{"line":1,"column":508}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":61,"column":13},"generated":{"line":1,"column":514}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"zfar","original":{"line":63,"column":4},"generated":{"line":1,"column":518}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":63,"column":10},"generated":{"line":1,"column":523}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":64,"column":6},"generated":{"line":1,"column":524}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":64,"column":13},"generated":{"line":1,"column":530}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"noise","original":{"line":66,"column":4},"generated":{"line":1,"column":535}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":66,"column":11},"generated":{"line":1,"column":541}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":67,"column":6},"generated":{"line":1,"column":542}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":67,"column":13},"generated":{"line":1,"column":548}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"dithering","original":{"line":69,"column":4},"generated":{"line":1,"column":551}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":69,"column":15},"generated":{"line":1,"column":561}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":70,"column":6},"generated":{"line":1,"column":562}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":70,"column":13},"generated":{"line":1,"column":568}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"pentagon","original":{"line":72,"column":4},"generated":{"line":1,"column":574}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":72,"column":14},"generated":{"line":1,"column":583}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":73,"column":6},"generated":{"line":1,"column":584}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":73,"column":13},"generated":{"line":1,"column":590}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"shaderFocus","original":{"line":75,"column":4},"generated":{"line":1,"column":593}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":75,"column":17},"generated":{"line":1,"column":605}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":76,"column":6},"generated":{"line":1,"column":606}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":76,"column":13},"generated":{"line":1,"column":612}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"focusCoords","original":{"line":78,"column":4},"generated":{"line":1,"column":615}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":78,"column":17},"generated":{"line":1,"column":627}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":79,"column":6},"generated":{"line":1,"column":628}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":79,"column":13},"generated":{"line":1,"column":634}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"Vector2","original":{"line":79,"column":17},"generated":{"line":1,"column":638}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":79,"column":24},"generated":{"line":1,"column":640}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"vertexShader","original":{"line":82,"column":2},"generated":{"line":1,"column":650}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":82,"column":16},"generated":{"line":1,"column":663}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":82,"column":17},"generated":{"line":1,"column":664}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":82,"column":38},"generated":{"line":1,"column":684}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":82,"column":55},"generated":{"line":1,"column":700}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":82,"column":69},"generated":{"line":1,"column":714}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":82,"column":147},"generated":{"line":1,"column":792}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"join","original":{"line":82,"column":152},"generated":{"line":1,"column":797}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":82,"column":157},"generated":{"line":1,"column":802}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"fragmentShader","original":{"line":83,"column":2},"generated":{"line":1,"column":808}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":18},"generated":{"line":1,"column":823}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":19},"generated":{"line":1,"column":824}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":40},"generated":{"line":1,"column":844}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":61},"generated":{"line":1,"column":864}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":90},"generated":{"line":1,"column":892}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":119},"generated":{"line":1,"column":920}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":150},"generated":{"line":1,"column":950}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":182},"generated":{"line":1,"column":981}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":285},"generated":{"line":1,"column":1083}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":336},"generated":{"line":1,"column":1133}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":375},"generated":{"line":1,"column":1171}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":484},"generated":{"line":1,"column":1279}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":490},"generated":{"line":1,"column":1284}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":590},"generated":{"line":1,"column":1383}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":596},"generated":{"line":1,"column":1388}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":645},"generated":{"line":1,"column":1436}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":691},"generated":{"line":1,"column":1481}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":739},"generated":{"line":1,"column":1528}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":759},"generated":{"line":1,"column":1547}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":819},"generated":{"line":1,"column":1606}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":860},"generated":{"line":1,"column":1646}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":907},"generated":{"line":1,"column":1692}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":960},"generated":{"line":1,"column":1744}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1009},"generated":{"line":1,"column":1792}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1068},"generated":{"line":1,"column":1850}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1116},"generated":{"line":1,"column":1897}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1174},"generated":{"line":1,"column":1954}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1249},"generated":{"line":1,"column":2028}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1308},"generated":{"line":1,"column":2086}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1359},"generated":{"line":1,"column":2136}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1409},"generated":{"line":1,"column":2185}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1465},"generated":{"line":1,"column":2240}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1494},"generated":{"line":1,"column":2268}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1545},"generated":{"line":1,"column":2318}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1574},"generated":{"line":1,"column":2346}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1659},"generated":{"line":1,"column":2430}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1705},"generated":{"line":1,"column":2475}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1731},"generated":{"line":1,"column":2500}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1789},"generated":{"line":1,"column":2557}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1841},"generated":{"line":1,"column":2608}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1883},"generated":{"line":1,"column":2649}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1925},"generated":{"line":1,"column":2690}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":1991},"generated":{"line":1,"column":2755}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2066},"generated":{"line":1,"column":2829}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2094},"generated":{"line":1,"column":2856}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2146},"generated":{"line":1,"column":2907}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2189},"generated":{"line":1,"column":2949}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2195},"generated":{"line":1,"column":2954}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2224},"generated":{"line":1,"column":2982}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2277},"generated":{"line":1,"column":3034}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2328},"generated":{"line":1,"column":3084}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2334},"generated":{"line":1,"column":3089}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2391},"generated":{"line":1,"column":3145}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2440},"generated":{"line":1,"column":3193}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2488},"generated":{"line":1,"column":3240}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2518},"generated":{"line":1,"column":3269}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2541},"generated":{"line":1,"column":3292}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2579},"generated":{"line":1,"column":3330}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2639},"generated":{"line":1,"column":3390}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2699},"generated":{"line":1,"column":3450}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2759},"generated":{"line":1,"column":3510}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2819},"generated":{"line":1,"column":3570}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2879},"generated":{"line":1,"column":3630}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2939},"generated":{"line":1,"column":3690}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":2968},"generated":{"line":1,"column":3719}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3016},"generated":{"line":1,"column":3767}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3043},"generated":{"line":1,"column":3794}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3069},"generated":{"line":1,"column":3820}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3097},"generated":{"line":1,"column":3848}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3125},"generated":{"line":1,"column":3876}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3153},"generated":{"line":1,"column":3904}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3181},"generated":{"line":1,"column":3932}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3231},"generated":{"line":1,"column":3982}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3264},"generated":{"line":1,"column":4015}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3292},"generated":{"line":1,"column":4043}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3325},"generated":{"line":1,"column":4076}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3375},"generated":{"line":1,"column":4126}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3398},"generated":{"line":1,"column":4149}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3437},"generated":{"line":1,"column":4188}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3442},"generated":{"line":1,"column":4192}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3473},"generated":{"line":1,"column":4222}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3498},"generated":{"line":1,"column":4247}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3517},"generated":{"line":1,"column":4266}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3538},"generated":{"line":1,"column":4287}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3558},"generated":{"line":1,"column":4307}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3623},"generated":{"line":1,"column":4372}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3658},"generated":{"line":1,"column":4407}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3693},"generated":{"line":1,"column":4442}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3728},"generated":{"line":1,"column":4477}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3763},"generated":{"line":1,"column":4512}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3798},"generated":{"line":1,"column":4547}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3833},"generated":{"line":1,"column":4582}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3868},"generated":{"line":1,"column":4617}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3903},"generated":{"line":1,"column":4652}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":3938},"generated":{"line":1,"column":4687}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4012},"generated":{"line":1,"column":4761}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4086},"generated":{"line":1,"column":4835}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4160},"generated":{"line":1,"column":4909}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4191},"generated":{"line":1,"column":4940}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4249},"generated":{"line":1,"column":4999}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4276},"generated":{"line":1,"column":5027}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4282},"generated":{"line":1,"column":5033}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4296},"generated":{"line":1,"column":5047}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4301},"generated":{"line":1,"column":5051}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4341},"generated":{"line":1,"column":5090}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4369},"generated":{"line":1,"column":5118}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4395},"generated":{"line":1,"column":5144}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4454},"generated":{"line":1,"column":5203}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4528},"generated":{"line":1,"column":5277}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4606},"generated":{"line":1,"column":5355}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4683},"generated":{"line":1,"column":5432}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4728},"generated":{"line":1,"column":5477}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4768},"generated":{"line":1,"column":5517}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4819},"generated":{"line":1,"column":5568}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4866},"generated":{"line":1,"column":5615}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4871},"generated":{"line":1,"column":5619}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4927},"generated":{"line":1,"column":5674}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":4989},"generated":{"line":1,"column":5736}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5045},"generated":{"line":1,"column":5792}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5105},"generated":{"line":1,"column":5852}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5155},"generated":{"line":1,"column":5902}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5215},"generated":{"line":1,"column":5962}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5231},"generated":{"line":1,"column":5978}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5236},"generated":{"line":1,"column":5982}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5270},"generated":{"line":1,"column":6015}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5330},"generated":{"line":1,"column":6075}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5335},"generated":{"line":1,"column":6079}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5357},"generated":{"line":1,"column":6100}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5407},"generated":{"line":1,"column":6150}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5487},"generated":{"line":1,"column":6230}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5519},"generated":{"line":1,"column":6262}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5524},"generated":{"line":1,"column":6266}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5623},"generated":{"line":1,"column":6364}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5656},"generated":{"line":1,"column":6397}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5702},"generated":{"line":1,"column":6443}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5732},"generated":{"line":1,"column":6473}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5762},"generated":{"line":1,"column":6503}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5781},"generated":{"line":1,"column":6522}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5801},"generated":{"line":1,"column":6542}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5830},"generated":{"line":1,"column":6572}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5836},"generated":{"line":1,"column":6578}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5917},"generated":{"line":1,"column":6659}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5965},"generated":{"line":1,"column":6707}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5970},"generated":{"line":1,"column":6711}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":5987},"generated":{"line":1,"column":6727}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6017},"generated":{"line":1,"column":6757}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6074},"generated":{"line":1,"column":6814}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6093},"generated":{"line":1,"column":6833}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6116},"generated":{"line":1,"column":6856}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6156},"generated":{"line":1,"column":6897}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6162},"generated":{"line":1,"column":6903}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6192},"generated":{"line":1,"column":6933}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6223},"generated":{"line":1,"column":6964}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6246},"generated":{"line":1,"column":6987}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6304},"generated":{"line":1,"column":7046}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6310},"generated":{"line":1,"column":7052}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6345},"generated":{"line":1,"column":7087}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6367},"generated":{"line":1,"column":7109}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6388},"generated":{"line":1,"column":7130}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6432},"generated":{"line":1,"column":7175}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6482},"generated":{"line":1,"column":7226}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6534},"generated":{"line":1,"column":7279}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6563},"generated":{"line":1,"column":7309}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6576},"generated":{"line":1,"column":7322}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6626},"generated":{"line":1,"column":7373}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6677},"generated":{"line":1,"column":7425}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6721},"generated":{"line":1,"column":7470}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6749},"generated":{"line":1,"column":7499}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6777},"generated":{"line":1,"column":7528}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6813},"generated":{"line":1,"column":7565}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6837},"generated":{"line":1,"column":7590}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6843},"generated":{"line":1,"column":7596}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6875},"generated":{"line":1,"column":7628}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":6919},"generated":{"line":1,"column":7672}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7007},"generated":{"line":1,"column":7760}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7047},"generated":{"line":1,"column":7800}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7102},"generated":{"line":1,"column":7855}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7158},"generated":{"line":1,"column":7911}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7192},"generated":{"line":1,"column":7945}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7218},"generated":{"line":1,"column":7971}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7240},"generated":{"line":1,"column":7993}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7272},"generated":{"line":1,"column":8026}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7314},"generated":{"line":1,"column":8069}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7327},"generated":{"line":1,"column":8082}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7369},"generated":{"line":1,"column":8125}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7389},"generated":{"line":1,"column":8146}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7411},"generated":{"line":1,"column":8169}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7451},"generated":{"line":1,"column":8210}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7472},"generated":{"line":1,"column":8233}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7505},"generated":{"line":1,"column":8268}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7556},"generated":{"line":1,"column":8321}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7592},"generated":{"line":1,"column":8360}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7662},"generated":{"line":1,"column":8433}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7670},"generated":{"line":1,"column":8443}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7689},"generated":{"line":1,"column":8464}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7696},"generated":{"line":1,"column":8472}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7736},"generated":{"line":1,"column":8513}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7742},"generated":{"line":1,"column":8519}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7763},"generated":{"line":1,"column":8540}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7804},"generated":{"line":1,"column":8582}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7810},"generated":{"line":1,"column":8588}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7832},"generated":{"line":1,"column":8610}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7856},"generated":{"line":1,"column":8635}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7862},"generated":{"line":1,"column":8641}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7890},"generated":{"line":1,"column":8669}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7916},"generated":{"line":1,"column":8695}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"join","original":{"line":83,"column":7922},"generated":{"line":1,"column":8701}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":83,"column":7927},"generated":{"line":1,"column":8706}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"BokehDepthShader","original":{"line":85,"column":6},"generated":{"line":1,"column":8713}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"exports","original":{"line":85,"column":22},"generated":{"line":1,"column":8715}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"BokehDepthShader","original":{"line":85,"column":22},"generated":{"line":1,"column":8723}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":85,"column":25},"generated":{"line":1,"column":8740}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"uniforms","original":{"line":86,"column":2},"generated":{"line":1,"column":8741}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":86,"column":12},"generated":{"line":1,"column":8750}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"mNear","original":{"line":87,"column":4},"generated":{"line":1,"column":8751}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":87,"column":11},"generated":{"line":1,"column":8757}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":88,"column":6},"generated":{"line":1,"column":8758}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":88,"column":13},"generated":{"line":1,"column":8764}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"mFar","original":{"line":90,"column":4},"generated":{"line":1,"column":8767}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":90,"column":10},"generated":{"line":1,"column":8772}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"value","original":{"line":91,"column":6},"generated":{"line":1,"column":8773}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":91,"column":13},"generated":{"line":1,"column":8779}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"vertexShader","original":{"line":94,"column":2},"generated":{"line":1,"column":8785}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":16},"generated":{"line":1,"column":8798}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":17},"generated":{"line":1,"column":8799}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":47},"generated":{"line":1,"column":8828}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":64},"generated":{"line":1,"column":8844}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":92},"generated":{"line":1,"column":8872}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":122},"generated":{"line":1,"column":8902}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":156},"generated":{"line":1,"column":8936}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"join","original":{"line":94,"column":161},"generated":{"line":1,"column":8941}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":94,"column":166},"generated":{"line":1,"column":8946}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"fragmentShader","original":{"line":95,"column":2},"generated":{"line":1,"column":8952}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":18},"generated":{"line":1,"column":8967}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":19},"generated":{"line":1,"column":8968}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":43},"generated":{"line":1,"column":8991}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":66},"generated":{"line":1,"column":9013}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":96},"generated":{"line":1,"column":9042}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":113},"generated":{"line":1,"column":9058}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":177},"generated":{"line":1,"column":9122}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":224},"generated":{"line":1,"column":9169}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","name":"join","original":{"line":95,"column":230},"generated":{"line":1,"column":9175}},{"source":"node_modules/three-stdlib/shaders/BokehShader2.js","original":{"line":95,"column":235},"generated":{"line":1,"column":9180}}],"sources":{"node_modules/three-stdlib/shaders/BokehShader2.js":"import { Vector2 } from 'three';\n\n/**\n * Depth-of-field shader with bokeh\n * ported from GLSL shader by Martins Upitis\n * http://blenderartists.org/forum/showthread.php?237488-GLSL-depth-of-field-with-bokeh-v2-4-(update)\n *\n * Requires #define RINGS and SAMPLES integers\n */\nconst BokehShader2 = {\n  uniforms: {\n    textureWidth: {\n      value: 1.0\n    },\n    textureHeight: {\n      value: 1.0\n    },\n    focalDepth: {\n      value: 1.0\n    },\n    focalLength: {\n      value: 24.0\n    },\n    fstop: {\n      value: 0.9\n    },\n    tColor: {\n      value: null\n    },\n    tDepth: {\n      value: null\n    },\n    maxblur: {\n      value: 1.0\n    },\n    showFocus: {\n      value: 0\n    },\n    manualdof: {\n      value: 0\n    },\n    vignetting: {\n      value: 0\n    },\n    depthblur: {\n      value: 0\n    },\n    threshold: {\n      value: 0.5\n    },\n    gain: {\n      value: 2.0\n    },\n    bias: {\n      value: 0.5\n    },\n    fringe: {\n      value: 0.7\n    },\n    znear: {\n      value: 0.1\n    },\n    zfar: {\n      value: 100\n    },\n    noise: {\n      value: 1\n    },\n    dithering: {\n      value: 0.0001\n    },\n    pentagon: {\n      value: 0\n    },\n    shaderFocus: {\n      value: 1\n    },\n    focusCoords: {\n      value: new Vector2()\n    }\n  },\n  vertexShader: ['varying vec2 vUv;', 'void main() {', '\tvUv = uv;', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['#include <common>', 'varying vec2 vUv;', 'uniform sampler2D tColor;', 'uniform sampler2D tDepth;', 'uniform float textureWidth;', 'uniform float textureHeight;', 'uniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below', 'uniform float focalLength; //focal length in mm', 'uniform float fstop; //f-stop value', 'uniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)', '/*', 'make sure that these two values are the same for your camera, otherwise distances will be wrong.', '*/', 'uniform float znear; // camera clipping start', 'uniform float zfar; // camera clipping end', '//------------------------------------------', '//user variables', 'const int samples = SAMPLES; //samples on the first ring', 'const int rings = RINGS; //ring count', 'const int maxringsamples = rings * samples;', 'uniform bool manualdof; // manual dof calculation', 'float ndofstart = 1.0; // near dof blur start', 'float ndofdist = 2.0; // near dof blur falloff distance', 'float fdofstart = 1.0; // far dof blur start', 'float fdofdist = 3.0; // far dof blur falloff distance', 'float CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)', 'uniform bool vignetting; // use optical lens vignetting', 'float vignout = 1.3; // vignetting outer border', 'float vignin = 0.0; // vignetting inner border', 'float vignfade = 22.0; // f-stops till vignete fades', 'uniform bool shaderFocus;', '// disable if you use external focalDepth value', 'uniform vec2 focusCoords;', '// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)', '// if center of screen use vec2(0.5, 0.5);', 'uniform float maxblur;', '//clamp value of max blur (0.0 = no blur, 1.0 default)', 'uniform float threshold; // highlight threshold;', 'uniform float gain; // highlight gain;', 'uniform float bias; // bokeh edge bias', 'uniform float fringe; // bokeh chromatic aberration / fringing', 'uniform bool noise; //use noise instead of pattern for sample dithering', 'uniform float dithering;', 'uniform bool depthblur; // blur the depth buffer', 'float dbsize = 1.25; // depth blur size', '/*', 'next part is experimental', 'not looking good with small sample and ring count', 'looks okay starting from samples = 4, rings = 4', '*/', 'uniform bool pentagon; //use pentagon as bokeh shape?', 'float feather = 0.4; //pentagon shape feather', '//------------------------------------------', 'float penta(vec2 coords) {', '\t//pentagonal shape', '\tfloat scale = float(rings) - 1.3;', '\tvec4  HS0 = vec4( 1.0,         0.0,         0.0,  1.0);', '\tvec4  HS1 = vec4( 0.309016994, 0.951056516, 0.0,  1.0);', '\tvec4  HS2 = vec4(-0.809016994, 0.587785252, 0.0,  1.0);', '\tvec4  HS3 = vec4(-0.809016994,-0.587785252, 0.0,  1.0);', '\tvec4  HS4 = vec4( 0.309016994,-0.951056516, 0.0,  1.0);', '\tvec4  HS5 = vec4( 0.0        ,0.0         , 1.0,  1.0);', '\tvec4  one = vec4( 1.0 );', '\tvec4 P = vec4((coords),vec2(scale, scale));', '\tvec4 dist = vec4(0.0);', '\tfloat inorout = -4.0;', '\tdist.x = dot( P, HS0 );', '\tdist.y = dot( P, HS1 );', '\tdist.z = dot( P, HS2 );', '\tdist.w = dot( P, HS3 );', '\tdist = smoothstep( -feather, feather, dist );', '\tinorout += dot( dist, one );', '\tdist.x = dot( P, HS4 );', '\tdist.y = HS5.w - abs( P.z );', '\tdist = smoothstep( -feather, feather, dist );', '\tinorout += dist.x;', '\treturn clamp( inorout, 0.0, 1.0 );', '}', 'float bdepth(vec2 coords) {', '\t// Depth buffer blur', '\tfloat d = 0.0;', '\tfloat kernel[9];', '\tvec2 offset[9];', '\tvec2 wh = vec2(1.0/textureWidth,1.0/textureHeight) * dbsize;', '\toffset[0] = vec2(-wh.x,-wh.y);', '\toffset[1] = vec2( 0.0, -wh.y);', '\toffset[2] = vec2( wh.x -wh.y);', '\toffset[3] = vec2(-wh.x,  0.0);', '\toffset[4] = vec2( 0.0,   0.0);', '\toffset[5] = vec2( wh.x,  0.0);', '\toffset[6] = vec2(-wh.x, wh.y);', '\toffset[7] = vec2( 0.0,  wh.y);', '\toffset[8] = vec2( wh.x, wh.y);', '\tkernel[0] = 1.0/16.0;   kernel[1] = 2.0/16.0;   kernel[2] = 1.0/16.0;', '\tkernel[3] = 2.0/16.0;   kernel[4] = 4.0/16.0;   kernel[5] = 2.0/16.0;', '\tkernel[6] = 1.0/16.0;   kernel[7] = 2.0/16.0;   kernel[8] = 1.0/16.0;', '\tfor( int i=0; i<9; i++ ) {', '\t\tfloat tmp = texture2D(tDepth, coords + offset[i]).r;', '\t\td += tmp * kernel[i];', '\t}', '\treturn d;', '}', 'vec3 color(vec2 coords,float blur) {', '\t//processing the sample', '\tvec3 col = vec3(0.0);', '\tvec2 texel = vec2(1.0/textureWidth,1.0/textureHeight);', '\tcol.r = texture2D(tColor,coords + vec2(0.0,1.0)*texel*fringe*blur).r;', '\tcol.g = texture2D(tColor,coords + vec2(-0.866,-0.5)*texel*fringe*blur).g;', '\tcol.b = texture2D(tColor,coords + vec2(0.866,-0.5)*texel*fringe*blur).b;', '\tvec3 lumcoeff = vec3(0.299,0.587,0.114);', '\tfloat lum = dot(col.rgb, lumcoeff);', '\tfloat thresh = max((lum-threshold)*gain, 0.0);', '\treturn col+mix(vec3(0.0),col,thresh*blur);', '}', 'vec3 debugFocus(vec3 col, float blur, float depth) {', '\tfloat edge = 0.002*depth; //distance based edge smoothing', '\tfloat m = clamp(smoothstep(0.0,edge,blur),0.0,1.0);', '\tfloat e = clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);', '\tcol = mix(col,vec3(1.0,0.5,0.0),(1.0-m)*0.6);', '\tcol = mix(col,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);', '\treturn col;', '}', 'float linearize(float depth) {', '\treturn -zfar * znear / (depth * (zfar - znear) - zfar);', '}', 'float vignette() {', '\tfloat dist = distance(vUv.xy, vec2(0.5,0.5));', '\tdist = smoothstep(vignout+(fstop/vignfade), vignin+(fstop/vignfade), dist);', '\treturn clamp(dist,0.0,1.0);', '}', 'float gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {', '\tfloat rings2 = float(rings);', '\tfloat step = PI*2.0 / float(ringsamples);', '\tfloat pw = cos(j*step)*i;', '\tfloat ph = sin(j*step)*i;', '\tfloat p = 1.0;', '\tif (pentagon) {', '\t\tp = penta(vec2(pw,ph));', '\t}', '\tcol += color(vUv.xy + vec2(pw*w,ph*h), blur) * mix(1.0, i/rings2, bias) * p;', '\treturn 1.0 * mix(1.0, i /rings2, bias) * p;', '}', 'void main() {', '\t//scene depth calculation', '\tfloat depth = linearize(texture2D(tDepth,vUv.xy).x);', '\t// Blur depth?', '\tif ( depthblur ) {', '\t\tdepth = linearize(bdepth(vUv.xy));', '\t}', '\t//focal plane calculation', '\tfloat fDepth = focalDepth;', '\tif (shaderFocus) {', '\t\tfDepth = linearize(texture2D(tDepth,focusCoords).x);', '\t}', '\t// dof blur factor calculation', '\tfloat blur = 0.0;', '\tif (manualdof) {', '\t\tfloat a = depth-fDepth; // Focal plane', '\t\tfloat b = (a-fdofstart)/fdofdist; // Far DoF', '\t\tfloat c = (-a-ndofstart)/ndofdist; // Near Dof', '\t\tblur = (a>0.0) ? b : c;', '\t} else {', '\t\tfloat f = focalLength; // focal length in mm', '\t\tfloat d = fDepth*1000.0; // focal plane in mm', '\t\tfloat o = depth*1000.0; // depth in mm', '\t\tfloat a = (o*f)/(o-f);', '\t\tfloat b = (d*f)/(d-f);', '\t\tfloat c = (d-f)/(d*fstop*CoC);', '\t\tblur = abs(a-b)*c;', '\t}', '\tblur = clamp(blur,0.0,1.0);', '\t// calculation of pattern for dithering', '\tvec2 noise = vec2(rand(vUv.xy), rand( vUv.xy + vec2( 0.4, 0.6 ) ) )*dithering*blur;', '\t// getting blur x and y step factor', '\tfloat w = (1.0/textureWidth)*blur*maxblur+noise.x;', '\tfloat h = (1.0/textureHeight)*blur*maxblur+noise.y;', '\t// calculation of final color', '\tvec3 col = vec3(0.0);', '\tif(blur < 0.05) {', '\t\t//some optimization thingy', '\t\tcol = texture2D(tColor, vUv.xy).rgb;', '\t} else {', '\t\tcol = texture2D(tColor, vUv.xy).rgb;', '\t\tfloat s = 1.0;', '\t\tint ringsamples;', '\t\tfor (int i = 1; i <= rings; i++) {', '\t\t\t/*unboxstart*/', '\t\t\tringsamples = i * samples;', '\t\t\tfor (int j = 0 ; j < maxringsamples ; j++) {', '\t\t\t\tif (j >= ringsamples) break;', '\t\t\t\ts += gather(float(i), float(j), ringsamples, col, w, h, blur);', '\t\t\t}', '\t\t\t/*unboxend*/', '\t\t}', '\t\tcol /= s; //divide by sample count', '\t}', '\tif (showFocus) {', '\t\tcol = debugFocus(col, blur, depth);', '\t}', '\tif (vignetting) {', '\t\tcol *= vignette();', '\t}', '\tgl_FragColor.rgb = col;', '\tgl_FragColor.a = 1.0;', '} '].join('\\n')\n};\nconst BokehDepthShader = {\n  uniforms: {\n    mNear: {\n      value: 1.0\n    },\n    mFar: {\n      value: 1000.0\n    }\n  },\n  vertexShader: ['varying float vViewZDepth;', 'void main() {', '\t#include <begin_vertex>', '\t#include <project_vertex>', '\tvViewZDepth = - mvPosition.z;', '}'].join('\\n'),\n  fragmentShader: ['uniform float mNear;', 'uniform float mFar;', 'varying float vViewZDepth;', 'void main() {', '\tfloat color = 1.0 - smoothstep( mNear, mFar, vViewZDepth );', '\tgl_FragColor = vec4( vec3( color ), 1.0 );', '} '].join('\\n')\n};\n\nexport { BokehDepthShader, BokehShader2 };\n"},"lineCount":null}},"error":null,"hash":"b15d02548a7576480d7f027453066c5c","cacheData":{"env":{}}}