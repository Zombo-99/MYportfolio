{"id":"L1hG","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1724625312988}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ToneMapShader=void 0;const e=exports.ToneMapShader={uniforms:{tDiffuse:{value:null},averageLuminance:{value:1},luminanceMap:{value:null},maxLuminance:{value:16},minLuminance:{value:.01},middleGrey:{value:.6}},vertexShader:[\"varying vec2 vUv;\",\"void main() {\",\"\\tvUv = uv;\",\"\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"#include <common>\",\"uniform sampler2D tDiffuse;\",\"varying vec2 vUv;\",\"uniform float middleGrey;\",\"uniform float minLuminance;\",\"uniform float maxLuminance;\",\"#ifdef ADAPTED_LUMINANCE\",\"\\tuniform sampler2D luminanceMap;\",\"#else\",\"\\tuniform float averageLuminance;\",\"#endif\",\"vec3 ToneMap( vec3 vColor ) {\",\"\\t#ifdef ADAPTED_LUMINANCE\",\"\\t\\tfloat fLumAvg = texture2D(luminanceMap, vec2(0.5, 0.5)).r;\",\"\\t#else\",\"\\t\\tfloat fLumAvg = averageLuminance;\",\"\\t#endif\",\"\\tfloat fLumPixel = linearToRelativeLuminance( vColor );\",\"\\tfloat fLumScaled = (fLumPixel * middleGrey) / max( minLuminance, fLumAvg );\",\"\\tfloat fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (maxLuminance * maxLuminance)))) / (1.0 + fLumScaled);\",\"\\treturn fLumCompressed * vColor;\",\"}\",\"void main() {\",\"\\tvec4 texel = texture2D( tDiffuse, vUv );\",\"\\tgl_FragColor = vec4( ToneMap( texel.xyz ), texel.w );\",\"}\"].join(\"\\n\")};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":30,"column":1},"generated":{"line":1,"column":95}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"ToneMapShader","original":{"line":4,"column":6},"generated":{"line":1,"column":103}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"exports","original":{"line":4,"column":19},"generated":{"line":1,"column":105}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"ToneMapShader","original":{"line":4,"column":19},"generated":{"line":1,"column":113}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":4,"column":22},"generated":{"line":1,"column":127}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"uniforms","original":{"line":5,"column":2},"generated":{"line":1,"column":128}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":5,"column":12},"generated":{"line":1,"column":137}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"tDiffuse","original":{"line":6,"column":4},"generated":{"line":1,"column":138}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":6,"column":14},"generated":{"line":1,"column":147}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"value","original":{"line":7,"column":6},"generated":{"line":1,"column":148}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":7,"column":13},"generated":{"line":1,"column":154}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"averageLuminance","original":{"line":9,"column":4},"generated":{"line":1,"column":160}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":9,"column":22},"generated":{"line":1,"column":177}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"value","original":{"line":10,"column":6},"generated":{"line":1,"column":178}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":10,"column":13},"generated":{"line":1,"column":184}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"luminanceMap","original":{"line":12,"column":4},"generated":{"line":1,"column":187}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":12,"column":18},"generated":{"line":1,"column":200}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"value","original":{"line":13,"column":6},"generated":{"line":1,"column":201}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":13,"column":13},"generated":{"line":1,"column":207}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"maxLuminance","original":{"line":15,"column":4},"generated":{"line":1,"column":213}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":15,"column":18},"generated":{"line":1,"column":226}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"value","original":{"line":16,"column":6},"generated":{"line":1,"column":227}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":16,"column":13},"generated":{"line":1,"column":233}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"minLuminance","original":{"line":18,"column":4},"generated":{"line":1,"column":237}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":18,"column":18},"generated":{"line":1,"column":250}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"value","original":{"line":19,"column":6},"generated":{"line":1,"column":251}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":19,"column":13},"generated":{"line":1,"column":257}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"middleGrey","original":{"line":21,"column":4},"generated":{"line":1,"column":262}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":21,"column":16},"generated":{"line":1,"column":273}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"value","original":{"line":22,"column":6},"generated":{"line":1,"column":274}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":22,"column":13},"generated":{"line":1,"column":280}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"vertexShader","original":{"line":25,"column":2},"generated":{"line":1,"column":285}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":25,"column":16},"generated":{"line":1,"column":298}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":25,"column":17},"generated":{"line":1,"column":299}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":25,"column":38},"generated":{"line":1,"column":319}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":25,"column":55},"generated":{"line":1,"column":335}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":25,"column":69},"generated":{"line":1,"column":349}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":25,"column":147},"generated":{"line":1,"column":427}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"join","original":{"line":25,"column":152},"generated":{"line":1,"column":432}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":25,"column":157},"generated":{"line":1,"column":437}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"fragmentShader","original":{"line":26,"column":2},"generated":{"line":1,"column":443}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":18},"generated":{"line":1,"column":458}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":19},"generated":{"line":1,"column":459}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":40},"generated":{"line":1,"column":479}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":71},"generated":{"line":1,"column":509}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":92},"generated":{"line":1,"column":529}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":121},"generated":{"line":1,"column":557}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":152},"generated":{"line":1,"column":587}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":183},"generated":{"line":1,"column":617}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":211},"generated":{"line":1,"column":644}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":247},"generated":{"line":1,"column":680}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":256},"generated":{"line":1,"column":688}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":292},"generated":{"line":1,"column":724}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":302},"generated":{"line":1,"column":733}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":26,"column":335},"generated":{"line":1,"column":765}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":27,"column":2},"generated":{"line":1,"column":794}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":27,"column":66},"generated":{"line":1,"column":859}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":27,"column":76},"generated":{"line":1,"column":869}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":27,"column":115},"generated":{"line":1,"column":909}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":28,"column":2},"generated":{"line":1,"column":920}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":2},"generated":{"line":1,"column":979}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":82},"generated":{"line":1,"column":1059}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":199},"generated":{"line":1,"column":1176}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":235},"generated":{"line":1,"column":1212}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":240},"generated":{"line":1,"column":1216}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":257},"generated":{"line":1,"column":1232}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":302},"generated":{"line":1,"column":1277}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":360},"generated":{"line":1,"column":1335}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","name":"join","original":{"line":29,"column":365},"generated":{"line":1,"column":1340}},{"source":"node_modules/three-stdlib/shaders/ToneMapShader.js","original":{"line":29,"column":370},"generated":{"line":1,"column":1345}}],"sources":{"node_modules/three-stdlib/shaders/ToneMapShader.js":"/**\n * Full-screen tone-mapping shader based on http://www.cis.rit.edu/people/faculty/ferwerda/publications/sig02_paper.pdf\n */\nconst ToneMapShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    averageLuminance: {\n      value: 1.0\n    },\n    luminanceMap: {\n      value: null\n    },\n    maxLuminance: {\n      value: 16.0\n    },\n    minLuminance: {\n      value: 0.01\n    },\n    middleGrey: {\n      value: 0.6\n    }\n  },\n  vertexShader: ['varying vec2 vUv;', 'void main() {', '\tvUv = uv;', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['#include <common>', 'uniform sampler2D tDiffuse;', 'varying vec2 vUv;', 'uniform float middleGrey;', 'uniform float minLuminance;', 'uniform float maxLuminance;', '#ifdef ADAPTED_LUMINANCE', '\tuniform sampler2D luminanceMap;', '#else', '\tuniform float averageLuminance;', '#endif', 'vec3 ToneMap( vec3 vColor ) {', '\t#ifdef ADAPTED_LUMINANCE', // Get the calculated average luminance\n  '\t\tfloat fLumAvg = texture2D(luminanceMap, vec2(0.5, 0.5)).r;', '\t#else', '\t\tfloat fLumAvg = averageLuminance;', '\t#endif', // Calculate the luminance of the current pixel\n  '\tfloat fLumPixel = linearToRelativeLuminance( vColor );', // Apply the modified operator (Eq. 4)\n  '\tfloat fLumScaled = (fLumPixel * middleGrey) / max( minLuminance, fLumAvg );', '\tfloat fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (maxLuminance * maxLuminance)))) / (1.0 + fLumScaled);', '\treturn fLumCompressed * vColor;', '}', 'void main() {', '\tvec4 texel = texture2D( tDiffuse, vUv );', '\tgl_FragColor = vec4( ToneMap( texel.xyz ), texel.w );', '}'].join('\\n')\n};\n\nexport { ToneMapShader };\n"},"lineCount":null}},"error":null,"hash":"784effc16e17bf296c20400f191a26aa","cacheData":{"env":{}}}