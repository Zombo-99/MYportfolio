{"id":"Z0Yp","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1724625312988},{"name":"../core/TempNode.js","loc":{"line":1,"column":21,"index":21},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/nodes/display/NormalMapNode.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/nodes/core/TempNode.js"},{"name":"../accessors/ModelNode.js","loc":{"line":2,"column":22,"index":66},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/nodes/display/NormalMapNode.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/nodes/accessors/ModelNode.js"},{"name":"../ShaderNode.js","loc":{"line":3,"column":144,"index":239},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/nodes/display/NormalMapNode.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/nodes/ShaderNode.js"},{"name":"three","loc":{"line":4,"column":60,"index":319},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/nodes/display/NormalMapNode.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three/build/three.module.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=s(require(\"../core/TempNode.js\")),r=s(require(\"../accessors/ModelNode.js\")),o=require(\"../ShaderNode.js\"),t=require(\"three\");function s(e){return e&&e.__esModule?e:{default:e}}const u=new o.ShaderNode(e=>{const{eye_pos:r,surf_norm:t,mapN:s,faceDirection:u,uv:a}=e,d=(0,o.dFdx)(r.xyz),l=(0,o.dFdy)(r.xyz),n=(0,o.dFdx)(a.st),i=(0,o.dFdy)(a.st),c=t,m=(0,o.cross)(l,c),p=(0,o.cross)(c,d),f=(0,o.add)((0,o.mul)(m,n.x),(0,o.mul)(p,i.x)),y=(0,o.add)((0,o.mul)(m,n.y),(0,o.mul)(p,i.y)),x=(0,o.max)((0,o.dot)(f,f),(0,o.dot)(y,y)),N=(0,o.cond)((0,o.equal)(x,0),0,(0,o.mul)(u,(0,o.inversesqrt)(x)));return(0,o.normalize)((0,o.add)((0,o.mul)(f,(0,o.mul)(s.x,N)),(0,o.mul)(y,(0,o.mul)(s.y,N)),(0,o.mul)(c,s.z)))});class a extends e.default{constructor(e,r=null){super(\"vec3\"),this.node=e,this.scaleNode=r,this.normalMapType=t.TangentSpaceNormalMap}generate(e){const s=this.getNodeType(e),{normalMapType:a,scaleNode:d}=this,l=(0,o.mul)(this.node,2);let n=(0,o.sub)(l,1);if(null!==d){const e=(0,o.mul)(n.xy,d);n=(0,o.join)(e,n.z)}if(a===t.ObjectSpaceNormalMap){const t=(0,o.mul)(new r.default(r.default.NORMAL_MATRIX),n);return(0,o.normalize)(t).build(e,s)}if(a===t.TangentSpaceNormalMap){return u({eye_pos:o.positionView,surf_norm:o.normalView,mapN:n,faceDirection:1,uv:(0,o.uv)()}).build(e,s)}}}var d=exports.default=a;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":0}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":13}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":20}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":35}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":43}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":56}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":57}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":64}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":68}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":76}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":71,"column":28},"generated":{"line":1,"column":89}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_TempNode","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_interopRequireDefault","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_ModelNode","original":{"line":2,"column":0},"generated":{"line":1,"column":131}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_interopRequireDefault","original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":135}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":2,"column":0},"generated":{"line":1,"column":143}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_ShaderNode","original":{"line":3,"column":0},"generated":{"line":1,"column":173}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":175}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":3,"column":0},"generated":{"line":1,"column":183}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_three","original":{"line":4,"column":0},"generated":{"line":1,"column":203}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"require","original":{"line":4,"column":0},"generated":{"line":1,"column":205}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":4,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":4,"column":68},"generated":{"line":1,"column":222}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_interopRequireDefault","original":{"line":4,"column":68},"generated":{"line":1,"column":231}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"e","original":{"line":4,"column":68},"generated":{"line":1,"column":233}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"e","original":{"line":4,"column":68},"generated":{"line":1,"column":236}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"e","original":{"line":4,"column":68},"generated":{"line":1,"column":243}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"e","original":{"line":4,"column":68},"generated":{"line":1,"column":246}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"__esModule","original":{"line":4,"column":68},"generated":{"line":1,"column":248}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"e","original":{"line":4,"column":68},"generated":{"line":1,"column":259}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"default","original":{"line":4,"column":68},"generated":{"line":1,"column":261}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"default","original":{"line":4,"column":68},"generated":{"line":1,"column":262}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"e","original":{"line":4,"column":68},"generated":{"line":1,"column":270}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":8,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"perturbNormal2ArbNode","original":{"line":8,"column":6},"generated":{"line":1,"column":279}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":8,"column":30},"generated":{"line":1,"column":281}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"ShaderNode","original":{"line":8,"column":34},"generated":{"line":1,"column":285}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":8,"column":44},"generated":{"line":1,"column":287}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"inputs","original":{"line":8,"column":45},"generated":{"line":1,"column":298}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":9,"column":2},"generated":{"line":1,"column":302}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":9,"column":8},"generated":{"line":1,"column":308}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"eye_pos","original":{"line":10,"column":4},"generated":{"line":1,"column":316}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":10,"column":11},"generated":{"line":1,"column":318}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"surf_norm","original":{"line":11,"column":4},"generated":{"line":1,"column":328}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":11,"column":13},"generated":{"line":1,"column":330}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mapN","original":{"line":12,"column":4},"generated":{"line":1,"column":335}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":12,"column":8},"generated":{"line":1,"column":337}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"faceDirection","original":{"line":13,"column":4},"generated":{"line":1,"column":351}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":13,"column":17},"generated":{"line":1,"column":353}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"uv","original":{"line":14,"column":4},"generated":{"line":1,"column":356}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"inputs","original":{"line":15,"column":6},"generated":{"line":1,"column":359}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q0","original":{"line":16,"column":8},"generated":{"line":1,"column":361}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":16,"column":13},"generated":{"line":1,"column":364}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"dFdx","original":{"line":16,"column":13},"generated":{"line":1,"column":366}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":16,"column":17},"generated":{"line":1,"column":368}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"eye_pos","original":{"line":16,"column":18},"generated":{"line":1,"column":374}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"xyz","original":{"line":16,"column":26},"generated":{"line":1,"column":376}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q1","original":{"line":17,"column":8},"generated":{"line":1,"column":381}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":17,"column":13},"generated":{"line":1,"column":384}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"dFdy","original":{"line":17,"column":13},"generated":{"line":1,"column":386}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":17,"column":17},"generated":{"line":1,"column":388}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"eye_pos","original":{"line":17,"column":18},"generated":{"line":1,"column":394}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"xyz","original":{"line":17,"column":26},"generated":{"line":1,"column":396}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st0","original":{"line":18,"column":8},"generated":{"line":1,"column":401}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":18,"column":14},"generated":{"line":1,"column":404}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"dFdx","original":{"line":18,"column":14},"generated":{"line":1,"column":406}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":18,"column":18},"generated":{"line":1,"column":408}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"uv","original":{"line":18,"column":19},"generated":{"line":1,"column":414}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st","original":{"line":18,"column":22},"generated":{"line":1,"column":416}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st1","original":{"line":19,"column":8},"generated":{"line":1,"column":420}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":19,"column":14},"generated":{"line":1,"column":423}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"dFdy","original":{"line":19,"column":14},"generated":{"line":1,"column":425}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":19,"column":18},"generated":{"line":1,"column":427}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"uv","original":{"line":19,"column":19},"generated":{"line":1,"column":433}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st","original":{"line":19,"column":22},"generated":{"line":1,"column":435}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"N","original":{"line":20,"column":8},"generated":{"line":1,"column":439}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"surf_norm","original":{"line":20,"column":12},"generated":{"line":1,"column":441}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q1perp","original":{"line":22,"column":8},"generated":{"line":1,"column":443}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":22,"column":17},"generated":{"line":1,"column":446}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"cross","original":{"line":22,"column":17},"generated":{"line":1,"column":448}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":22,"column":22},"generated":{"line":1,"column":450}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q1","original":{"line":22,"column":23},"generated":{"line":1,"column":457}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"N","original":{"line":22,"column":27},"generated":{"line":1,"column":459}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q0perp","original":{"line":23,"column":8},"generated":{"line":1,"column":462}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":23,"column":17},"generated":{"line":1,"column":465}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"cross","original":{"line":23,"column":17},"generated":{"line":1,"column":467}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":23,"column":22},"generated":{"line":1,"column":469}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"N","original":{"line":23,"column":23},"generated":{"line":1,"column":476}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q0","original":{"line":23,"column":26},"generated":{"line":1,"column":478}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"T","original":{"line":24,"column":8},"generated":{"line":1,"column":481}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":24,"column":12},"generated":{"line":1,"column":484}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"add","original":{"line":24,"column":12},"generated":{"line":1,"column":486}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":24,"column":15},"generated":{"line":1,"column":488}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":24,"column":16},"generated":{"line":1,"column":494}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":24,"column":16},"generated":{"line":1,"column":496}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":24,"column":19},"generated":{"line":1,"column":498}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q1perp","original":{"line":24,"column":20},"generated":{"line":1,"column":503}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st0","original":{"line":24,"column":28},"generated":{"line":1,"column":505}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"x","original":{"line":24,"column":32},"generated":{"line":1,"column":507}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":24,"column":36},"generated":{"line":1,"column":511}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":24,"column":36},"generated":{"line":1,"column":513}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":24,"column":39},"generated":{"line":1,"column":515}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q0perp","original":{"line":24,"column":40},"generated":{"line":1,"column":520}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st1","original":{"line":24,"column":48},"generated":{"line":1,"column":522}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"x","original":{"line":24,"column":52},"generated":{"line":1,"column":524}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"B","original":{"line":25,"column":8},"generated":{"line":1,"column":528}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":25,"column":12},"generated":{"line":1,"column":531}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"add","original":{"line":25,"column":12},"generated":{"line":1,"column":533}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":25,"column":15},"generated":{"line":1,"column":535}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":25,"column":16},"generated":{"line":1,"column":541}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":25,"column":16},"generated":{"line":1,"column":543}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":25,"column":19},"generated":{"line":1,"column":545}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q1perp","original":{"line":25,"column":20},"generated":{"line":1,"column":550}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st0","original":{"line":25,"column":28},"generated":{"line":1,"column":552}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"y","original":{"line":25,"column":32},"generated":{"line":1,"column":554}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":25,"column":36},"generated":{"line":1,"column":558}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":25,"column":36},"generated":{"line":1,"column":560}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":25,"column":39},"generated":{"line":1,"column":562}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"q0perp","original":{"line":25,"column":40},"generated":{"line":1,"column":567}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"st1","original":{"line":25,"column":48},"generated":{"line":1,"column":569}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"y","original":{"line":25,"column":52},"generated":{"line":1,"column":571}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"det","original":{"line":26,"column":8},"generated":{"line":1,"column":575}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":26,"column":14},"generated":{"line":1,"column":578}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"max","original":{"line":26,"column":14},"generated":{"line":1,"column":580}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":26,"column":17},"generated":{"line":1,"column":582}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":26,"column":18},"generated":{"line":1,"column":588}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"dot","original":{"line":26,"column":18},"generated":{"line":1,"column":590}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":26,"column":21},"generated":{"line":1,"column":592}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"T","original":{"line":26,"column":22},"generated":{"line":1,"column":597}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"T","original":{"line":26,"column":25},"generated":{"line":1,"column":599}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":26,"column":29},"generated":{"line":1,"column":603}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"dot","original":{"line":26,"column":29},"generated":{"line":1,"column":605}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":26,"column":32},"generated":{"line":1,"column":607}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"B","original":{"line":26,"column":33},"generated":{"line":1,"column":612}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"B","original":{"line":26,"column":36},"generated":{"line":1,"column":614}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scale","original":{"line":27,"column":8},"generated":{"line":1,"column":618}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":16},"generated":{"line":1,"column":621}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"cond","original":{"line":27,"column":16},"generated":{"line":1,"column":623}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":20},"generated":{"line":1,"column":625}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":21},"generated":{"line":1,"column":632}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"equal","original":{"line":27,"column":21},"generated":{"line":1,"column":634}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":26},"generated":{"line":1,"column":636}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"det","original":{"line":27,"column":27},"generated":{"line":1,"column":643}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":32},"generated":{"line":1,"column":645}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":36},"generated":{"line":1,"column":648}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":39},"generated":{"line":1,"column":651}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":27,"column":39},"generated":{"line":1,"column":653}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":42},"generated":{"line":1,"column":655}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"faceDirection","original":{"line":27,"column":43},"generated":{"line":1,"column":660}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":58},"generated":{"line":1,"column":663}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"inversesqrt","original":{"line":27,"column":58},"generated":{"line":1,"column":665}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":27,"column":69},"generated":{"line":1,"column":667}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"det","original":{"line":27,"column":70},"generated":{"line":1,"column":680}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":2},"generated":{"line":1,"column":685}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":9},"generated":{"line":1,"column":692}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalize","original":{"line":28,"column":9},"generated":{"line":1,"column":694}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":18},"generated":{"line":1,"column":696}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":19},"generated":{"line":1,"column":708}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"add","original":{"line":28,"column":19},"generated":{"line":1,"column":710}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":22},"generated":{"line":1,"column":712}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":23},"generated":{"line":1,"column":718}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":28,"column":23},"generated":{"line":1,"column":720}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":26},"generated":{"line":1,"column":722}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"T","original":{"line":28,"column":27},"generated":{"line":1,"column":727}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":30},"generated":{"line":1,"column":730}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":28,"column":30},"generated":{"line":1,"column":732}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":33},"generated":{"line":1,"column":734}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mapN","original":{"line":28,"column":34},"generated":{"line":1,"column":739}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"x","original":{"line":28,"column":39},"generated":{"line":1,"column":741}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scale","original":{"line":28,"column":42},"generated":{"line":1,"column":743}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":51},"generated":{"line":1,"column":748}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":28,"column":51},"generated":{"line":1,"column":750}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":54},"generated":{"line":1,"column":752}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"B","original":{"line":28,"column":55},"generated":{"line":1,"column":757}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":58},"generated":{"line":1,"column":760}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":28,"column":58},"generated":{"line":1,"column":762}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":61},"generated":{"line":1,"column":764}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mapN","original":{"line":28,"column":62},"generated":{"line":1,"column":769}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"y","original":{"line":28,"column":67},"generated":{"line":1,"column":771}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scale","original":{"line":28,"column":70},"generated":{"line":1,"column":773}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":79},"generated":{"line":1,"column":778}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":28,"column":79},"generated":{"line":1,"column":780}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":28,"column":82},"generated":{"line":1,"column":782}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"N","original":{"line":28,"column":83},"generated":{"line":1,"column":787}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mapN","original":{"line":28,"column":86},"generated":{"line":1,"column":789}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"z","original":{"line":28,"column":91},"generated":{"line":1,"column":791}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":31,"column":0},"generated":{"line":1,"column":798}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"NormalMapNode","original":{"line":31,"column":6},"generated":{"line":1,"column":804}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"TempNode","original":{"line":31,"column":28},"generated":{"line":1,"column":814}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":31,"column":36},"generated":{"line":1,"column":816}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"constructor","original":{"line":32,"column":2},"generated":{"line":1,"column":824}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"node","original":{"line":32,"column":14},"generated":{"line":1,"column":836}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scaleNode","original":{"line":32,"column":20},"generated":{"line":1,"column":838}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":32,"column":32},"generated":{"line":1,"column":840}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":33,"column":4},"generated":{"line":1,"column":846}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":33,"column":10},"generated":{"line":1,"column":852}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":34,"column":4},"generated":{"line":1,"column":860}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"node","original":{"line":34,"column":9},"generated":{"line":1,"column":865}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"node","original":{"line":34,"column":16},"generated":{"line":1,"column":870}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":35,"column":4},"generated":{"line":1,"column":872}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scaleNode","original":{"line":35,"column":9},"generated":{"line":1,"column":877}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scaleNode","original":{"line":35,"column":21},"generated":{"line":1,"column":887}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":36,"column":4},"generated":{"line":1,"column":889}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMapType","original":{"line":36,"column":9},"generated":{"line":1,"column":894}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"TangentSpaceNormalMap","original":{"line":36,"column":25},"generated":{"line":1,"column":908}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":36,"column":46},"generated":{"line":1,"column":910}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"generate","original":{"line":39,"column":2},"generated":{"line":1,"column":932}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"builder","original":{"line":39,"column":11},"generated":{"line":1,"column":941}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":40,"column":4},"generated":{"line":1,"column":944}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"type","original":{"line":40,"column":10},"generated":{"line":1,"column":950}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":40,"column":17},"generated":{"line":1,"column":952}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"getNodeType","original":{"line":40,"column":22},"generated":{"line":1,"column":957}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"builder","original":{"line":40,"column":34},"generated":{"line":1,"column":969}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":41,"column":10},"generated":{"line":1,"column":973}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMapType","original":{"line":42,"column":6},"generated":{"line":1,"column":987}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":42,"column":19},"generated":{"line":1,"column":989}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scaleNode","original":{"line":43,"column":6},"generated":{"line":1,"column":999}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":44,"column":8},"generated":{"line":1,"column":1002}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalOP","original":{"line":45,"column":10},"generated":{"line":1,"column":1007}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":45,"column":21},"generated":{"line":1,"column":1010}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":45,"column":21},"generated":{"line":1,"column":1012}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":45,"column":24},"generated":{"line":1,"column":1014}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":45,"column":25},"generated":{"line":1,"column":1019}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"node","original":{"line":45,"column":30},"generated":{"line":1,"column":1024}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":45,"column":36},"generated":{"line":1,"column":1029}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":46,"column":4},"generated":{"line":1,"column":1032}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMap","original":{"line":46,"column":8},"generated":{"line":1,"column":1036}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":46,"column":20},"generated":{"line":1,"column":1039}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"sub","original":{"line":46,"column":20},"generated":{"line":1,"column":1041}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":46,"column":23},"generated":{"line":1,"column":1043}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalOP","original":{"line":46,"column":24},"generated":{"line":1,"column":1048}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":46,"column":34},"generated":{"line":1,"column":1050}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":48,"column":4},"generated":{"line":1,"column":1053}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":48,"column":22},"generated":{"line":1,"column":1056}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scaleNode","original":{"line":48,"column":8},"generated":{"line":1,"column":1063}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":48,"column":28},"generated":{"line":1,"column":1065}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":49,"column":6},"generated":{"line":1,"column":1066}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMapScale","original":{"line":49,"column":12},"generated":{"line":1,"column":1072}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":49,"column":29},"generated":{"line":1,"column":1075}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":49,"column":29},"generated":{"line":1,"column":1077}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":49,"column":32},"generated":{"line":1,"column":1079}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMap","original":{"line":49,"column":33},"generated":{"line":1,"column":1084}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"xy","original":{"line":49,"column":43},"generated":{"line":1,"column":1086}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"scaleNode","original":{"line":49,"column":47},"generated":{"line":1,"column":1089}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMap","original":{"line":50,"column":6},"generated":{"line":1,"column":1092}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":50,"column":18},"generated":{"line":1,"column":1095}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"join","original":{"line":50,"column":18},"generated":{"line":1,"column":1097}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":50,"column":22},"generated":{"line":1,"column":1099}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMapScale","original":{"line":50,"column":23},"generated":{"line":1,"column":1105}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMap","original":{"line":50,"column":39},"generated":{"line":1,"column":1107}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"z","original":{"line":50,"column":49},"generated":{"line":1,"column":1109}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":53,"column":4},"generated":{"line":1,"column":1112}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMapType","original":{"line":53,"column":8},"generated":{"line":1,"column":1115}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"ObjectSpaceNormalMap","original":{"line":53,"column":26},"generated":{"line":1,"column":1119}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":53,"column":46},"generated":{"line":1,"column":1121}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":53,"column":48},"generated":{"line":1,"column":1142}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":54,"column":6},"generated":{"line":1,"column":1143}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"vertexNormalNode","original":{"line":54,"column":12},"generated":{"line":1,"column":1149}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":54,"column":31},"generated":{"line":1,"column":1152}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mul","original":{"line":54,"column":31},"generated":{"line":1,"column":1154}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":54,"column":34},"generated":{"line":1,"column":1156}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":54,"column":35},"generated":{"line":1,"column":1161}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"ModelNode","original":{"line":54,"column":39},"generated":{"line":1,"column":1165}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":54,"column":48},"generated":{"line":1,"column":1167}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"ModelNode","original":{"line":54,"column":49},"generated":{"line":1,"column":1175}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":54,"column":58},"generated":{"line":1,"column":1177}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"NORMAL_MATRIX","original":{"line":54,"column":59},"generated":{"line":1,"column":1185}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMap","original":{"line":54,"column":75},"generated":{"line":1,"column":1200}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":56,"column":6},"generated":{"line":1,"column":1203}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":55,"column":21},"generated":{"line":1,"column":1210}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalize","original":{"line":55,"column":21},"generated":{"line":1,"column":1212}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":55,"column":30},"generated":{"line":1,"column":1214}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"vertexNormalNode","original":{"line":55,"column":31},"generated":{"line":1,"column":1225}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"build","original":{"line":56,"column":20},"generated":{"line":1,"column":1228}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"builder","original":{"line":56,"column":26},"generated":{"line":1,"column":1234}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"type","original":{"line":56,"column":35},"generated":{"line":1,"column":1236}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":57,"column":11},"generated":{"line":1,"column":1239}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMapType","original":{"line":57,"column":15},"generated":{"line":1,"column":1242}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"TangentSpaceNormalMap","original":{"line":57,"column":33},"generated":{"line":1,"column":1246}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":57,"column":54},"generated":{"line":1,"column":1248}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":57,"column":56},"generated":{"line":1,"column":1270}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":65,"column":6},"generated":{"line":1,"column":1271}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"perturbNormal2ArbNode","original":{"line":58,"column":36},"generated":{"line":1,"column":1278}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":58,"column":58},"generated":{"line":1,"column":1280}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"eye_pos","original":{"line":59,"column":8},"generated":{"line":1,"column":1281}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"positionView","original":{"line":59,"column":17},"generated":{"line":1,"column":1289}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":59,"column":29},"generated":{"line":1,"column":1291}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"surf_norm","original":{"line":60,"column":8},"generated":{"line":1,"column":1304}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalView","original":{"line":60,"column":19},"generated":{"line":1,"column":1314}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":60,"column":29},"generated":{"line":1,"column":1316}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"mapN","original":{"line":61,"column":8},"generated":{"line":1,"column":1327}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"normalMap","original":{"line":61,"column":14},"generated":{"line":1,"column":1332}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"faceDirection","original":{"line":62,"column":8},"generated":{"line":1,"column":1334}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":62,"column":23},"generated":{"line":1,"column":1348}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"uv","original":{"line":63,"column":8},"generated":{"line":1,"column":1350}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":63,"column":12},"generated":{"line":1,"column":1354}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"uv","original":{"line":63,"column":12},"generated":{"line":1,"column":1356}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":63,"column":14},"generated":{"line":1,"column":1358}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"build","original":{"line":65,"column":35},"generated":{"line":1,"column":1366}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"builder","original":{"line":65,"column":41},"generated":{"line":1,"column":1372}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"type","original":{"line":65,"column":50},"generated":{"line":1,"column":1374}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","original":{"line":69,"column":1},"generated":{"line":1,"column":1379}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"_default","original":{"line":69,"column":1},"generated":{"line":1,"column":1383}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"exports","original":{"line":69,"column":1},"generated":{"line":1,"column":1385}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"default","original":{"line":69,"column":1},"generated":{"line":1,"column":1393}},{"source":"node_modules/three-stdlib/nodes/display/NormalMapNode.js","name":"NormalMapNode","original":{"line":71,"column":15},"generated":{"line":1,"column":1401}}],"sources":{"node_modules/three-stdlib/nodes/display/NormalMapNode.js":"import TempNode from '../core/TempNode.js';\nimport ModelNode from '../accessors/ModelNode.js';\nimport { ShaderNode, dFdx, dFdy, cross, add, mul, max, dot, cond, inversesqrt, equal, normalize, sub, join, positionView, normalView, uv } from '../ShaderNode.js';\nimport { TangentSpaceNormalMap, ObjectSpaceNormalMap } from 'three';\n\n// http://www.thetenthplanet.de/archives/1180\n\nconst perturbNormal2ArbNode = new ShaderNode(inputs => {\n  const {\n    eye_pos,\n    surf_norm,\n    mapN,\n    faceDirection,\n    uv\n  } = inputs;\n  const q0 = dFdx(eye_pos.xyz);\n  const q1 = dFdy(eye_pos.xyz);\n  const st0 = dFdx(uv.st);\n  const st1 = dFdy(uv.st);\n  const N = surf_norm; // normalized\n\n  const q1perp = cross(q1, N);\n  const q0perp = cross(N, q0);\n  const T = add(mul(q1perp, st0.x), mul(q0perp, st1.x));\n  const B = add(mul(q1perp, st0.y), mul(q0perp, st1.y));\n  const det = max(dot(T, T), dot(B, B));\n  const scale = cond(equal(det, 0), 0, mul(faceDirection, inversesqrt(det)));\n  return normalize(add(mul(T, mul(mapN.x, scale)), mul(B, mul(mapN.y, scale)), mul(N, mapN.z)));\n});\n\nclass NormalMapNode extends TempNode {\n  constructor(node, scaleNode = null) {\n    super('vec3');\n    this.node = node;\n    this.scaleNode = scaleNode;\n    this.normalMapType = TangentSpaceNormalMap;\n  }\n\n  generate(builder) {\n    const type = this.getNodeType(builder);\n    const {\n      normalMapType,\n      scaleNode\n    } = this;\n    const normalOP = mul(this.node, 2.0);\n    let normalMap = sub(normalOP, 1.0);\n\n    if (scaleNode !== null) {\n      const normalMapScale = mul(normalMap.xy, scaleNode);\n      normalMap = join(normalMapScale, normalMap.z);\n    }\n\n    if (normalMapType === ObjectSpaceNormalMap) {\n      const vertexNormalNode = mul(new ModelNode(ModelNode.NORMAL_MATRIX), normalMap);\n      const normal = normalize(vertexNormalNode);\n      return normal.build(builder, type);\n    } else if (normalMapType === TangentSpaceNormalMap) {\n      const perturbNormal2ArbCall = perturbNormal2ArbNode({\n        eye_pos: positionView,\n        surf_norm: normalView,\n        mapN: normalMap,\n        faceDirection: 1.0,\n        uv: uv()\n      });\n      return perturbNormal2ArbCall.build(builder, type);\n    }\n  }\n\n}\n\nexport default NormalMapNode;\n"},"lineCount":null}},"error":null,"hash":"a0d5779d7c5580c45f662399dfe54ab8","cacheData":{"env":{}}}