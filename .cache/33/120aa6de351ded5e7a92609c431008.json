{"id":"iDYI","dependencies":[{"name":"/home/moh/Desktop/MYPortfolio/package.json","includedInParent":true,"mtime":1725356897845},{"name":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/package.json","includedInParent":true,"mtime":1724625312988},{"name":"./ShaderPass.js","loc":{"line":1,"column":27,"index":27},"parent":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/postprocessing/LUTPass.js","resolved":"/home/moh/Desktop/MYPortfolio/node_modules/three-stdlib/postprocessing/ShaderPass.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LUTPass=void 0;var t=require(\"./ShaderPass.js\");const e={defines:{USE_3DTEXTURE:1},uniforms:{lut3d:{value:null},lut:{value:null},lutSize:{value:0},tDiffuse:{value:null},intensity:{value:1}},vertexShader:\"\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvUv = uv;\\n\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\n\\t\\t}\\n\\n\\t\",fragmentShader:\"\\n\\n\\t\\tuniform float lutSize;\\n\\t\\t#if USE_3DTEXTURE\\n\\t\\tprecision highp sampler3D;\\n\\t\\tuniform sampler3D lut3d;\\n\\t\\t#else\\n\\t\\tuniform sampler2D lut;\\n\\n\\t\\tvec3 lutLookup( sampler2D tex, float size, vec3 rgb ) {\\n\\n\\t\\t\\tfloat sliceHeight = 1.0 / size;\\n\\t\\t\\tfloat yPixelHeight = 1.0 / ( size * size );\\n\\n\\t\\t\\t// Get the slices on either side of the sample\\n\\t\\t\\tfloat slice = rgb.b * size;\\n\\t\\t\\tfloat interp = fract( slice );\\n\\t\\t\\tfloat slice0 = slice - interp;\\n\\t\\t\\tfloat centeredInterp = interp - 0.5;\\n\\n\\t\\t\\tfloat slice1 = slice0 + sign( centeredInterp );\\n\\n\\t\\t\\t// Pull y sample in by half a pixel in each direction to avoid color\\n\\t\\t\\t// bleeding from adjacent slices.\\n\\t\\t\\tfloat greenOffset = clamp( rgb.g * sliceHeight, yPixelHeight * 0.5, sliceHeight - yPixelHeight * 0.5 );\\n\\n\\t\\t\\tvec2 uv0 = vec2(\\n\\t\\t\\t\\trgb.r,\\n\\t\\t\\t\\tslice0 * sliceHeight + greenOffset\\n\\t\\t\\t);\\n\\t\\t\\tvec2 uv1 = vec2(\\n\\t\\t\\t\\trgb.r,\\n\\t\\t\\t\\tslice1 * sliceHeight + greenOffset\\n\\t\\t\\t);\\n\\n\\t\\t\\tvec3 sample0 = texture2D( tex, uv0 ).rgb;\\n\\t\\t\\tvec3 sample1 = texture2D( tex, uv1 ).rgb;\\n\\n\\t\\t\\treturn mix( sample0, sample1, abs( centeredInterp ) );\\n\\n\\t\\t}\\n\\t\\t#endif\\n\\n\\t\\tvarying vec2 vUv;\\n\\t\\tuniform float intensity;\\n\\t\\tuniform sampler2D tDiffuse;\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvec4 val = texture2D( tDiffuse, vUv );\\n\\t\\t\\tvec4 lutVal;\\n\\n\\t\\t\\t// pull the sample in by half a pixel so the sample begins\\n\\t\\t\\t// at the center of the edge pixels.\\n\\t\\t\\tfloat pixelWidth = 1.0 / lutSize;\\n\\t\\t\\tfloat halfPixelWidth = 0.5 / lutSize;\\n\\t\\t\\tvec3 uvw = vec3( halfPixelWidth ) + val.rgb * ( 1.0 - pixelWidth );\\n\\n\\t\\t\\t#if USE_3DTEXTURE\\n\\n\\t\\t\\tlutVal = vec4( texture( lut3d, uvw ).rgb, val.a );\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\tlutVal = vec4( lutLookup( lut, lutSize, uvw ), val.a );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tgl_FragColor = vec4( mix( val, lutVal, intensity ) );\\n\\n\\t\\t}\\n\\n\\t\"};class n extends t.ShaderPass{set lut(t){const e=this.material;if(t!==this.lut&&(e.uniforms.lut3d.value=null,e.uniforms.lut.value=null,t)){const n=t.isData3DTexture?1:0;n!==e.defines.USE_3DTEXTURE&&(e.defines.USE_3DTEXTURE=n,e.needsUpdate=!0),e.uniforms.lutSize.value=t.image.width,t.isData3DTexture?e.uniforms.lut3d.value=t:e.uniforms.lut.value=t}}get lut(){return this.material.uniforms.lut.value||this.material.uniforms.lut3d.value}set intensity(t){this.material.uniforms.intensity.value=t}get intensity(){return this.material.uniforms.intensity.value}constructor(t={}){super(e),this.lut=t.lut||null,this.intensity=\"intensity\"in t?t.intensity:1}}exports.LUTPass=n;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":159,"column":1},"generated":{"line":1,"column":89}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"_ShaderPass","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":3,"column":0},"generated":{"line":1,"column":124}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"LUTShader","original":{"line":3,"column":6},"generated":{"line":1,"column":130}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":3,"column":18},"generated":{"line":1,"column":132}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"defines","original":{"line":4,"column":2},"generated":{"line":1,"column":133}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":4,"column":11},"generated":{"line":1,"column":141}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"USE_3DTEXTURE","original":{"line":5,"column":4},"generated":{"line":1,"column":142}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":5,"column":19},"generated":{"line":1,"column":156}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":7,"column":2},"generated":{"line":1,"column":159}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":7,"column":12},"generated":{"line":1,"column":168}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut3d","original":{"line":8,"column":4},"generated":{"line":1,"column":169}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":8,"column":11},"generated":{"line":1,"column":175}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":9,"column":6},"generated":{"line":1,"column":176}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":9,"column":13},"generated":{"line":1,"column":182}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut","original":{"line":11,"column":4},"generated":{"line":1,"column":188}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":11,"column":9},"generated":{"line":1,"column":192}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":12,"column":6},"generated":{"line":1,"column":193}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":12,"column":13},"generated":{"line":1,"column":199}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lutSize","original":{"line":14,"column":4},"generated":{"line":1,"column":205}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":14,"column":13},"generated":{"line":1,"column":213}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":15,"column":6},"generated":{"line":1,"column":214}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":15,"column":13},"generated":{"line":1,"column":220}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"tDiffuse","original":{"line":17,"column":4},"generated":{"line":1,"column":223}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":17,"column":14},"generated":{"line":1,"column":232}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":18,"column":6},"generated":{"line":1,"column":233}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":18,"column":13},"generated":{"line":1,"column":239}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"intensity","original":{"line":20,"column":4},"generated":{"line":1,"column":245}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":20,"column":15},"generated":{"line":1,"column":255}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":21,"column":6},"generated":{"line":1,"column":256}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":21,"column":13},"generated":{"line":1,"column":262}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"vertexShader","original":{"line":24,"column":2},"generated":{"line":1,"column":266}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":26,"column":2},"generated":{"line":1,"column":279}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"fragmentShader","original":{"line":38,"column":2},"generated":{"line":1,"column":443}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":40,"column":2},"generated":{"line":1,"column":458}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":114,"column":0},"generated":{"line":1,"column":2353}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"LUTPass","original":{"line":114,"column":6},"generated":{"line":1,"column":2359}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"ShaderPass","original":{"line":114,"column":22},"generated":{"line":1,"column":2369}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":114,"column":32},"generated":{"line":1,"column":2371}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":115,"column":2},"generated":{"line":1,"column":2382}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":115,"column":10},"generated":{"line":1,"column":2390}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":116,"column":4},"generated":{"line":1,"column":2393}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":116,"column":10},"generated":{"line":1,"column":2399}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":116,"column":21},"generated":{"line":1,"column":2401}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":116,"column":26},"generated":{"line":1,"column":2406}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":118,"column":4},"generated":{"line":1,"column":2415}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":118,"column":8},"generated":{"line":1,"column":2418}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":118,"column":14},"generated":{"line":1,"column":2422}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut","original":{"line":118,"column":19},"generated":{"line":1,"column":2427}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":119,"column":6},"generated":{"line":1,"column":2433}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":119,"column":15},"generated":{"line":1,"column":2435}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut3d","original":{"line":119,"column":24},"generated":{"line":1,"column":2444}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":119,"column":30},"generated":{"line":1,"column":2450}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":119,"column":38},"generated":{"line":1,"column":2456}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":120,"column":6},"generated":{"line":1,"column":2461}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":120,"column":15},"generated":{"line":1,"column":2463}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut","original":{"line":120,"column":24},"generated":{"line":1,"column":2472}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":120,"column":28},"generated":{"line":1,"column":2476}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":120,"column":36},"generated":{"line":1,"column":2482}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":122,"column":10},"generated":{"line":1,"column":2487}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":122,"column":13},"generated":{"line":1,"column":2490}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":123,"column":8},"generated":{"line":1,"column":2491}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"is3dTextureDefine","original":{"line":123,"column":14},"generated":{"line":1,"column":2497}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":123,"column":34},"generated":{"line":1,"column":2499}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"isData3DTexture","original":{"line":123,"column":36},"generated":{"line":1,"column":2501}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":123,"column":54},"generated":{"line":1,"column":2517}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":123,"column":58},"generated":{"line":1,"column":2519}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"is3dTextureDefine","original":{"line":125,"column":12},"generated":{"line":1,"column":2521}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":125,"column":34},"generated":{"line":1,"column":2525}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"defines","original":{"line":125,"column":43},"generated":{"line":1,"column":2527}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"USE_3DTEXTURE","original":{"line":125,"column":51},"generated":{"line":1,"column":2535}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":126,"column":10},"generated":{"line":1,"column":2551}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"defines","original":{"line":126,"column":19},"generated":{"line":1,"column":2553}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"USE_3DTEXTURE","original":{"line":126,"column":27},"generated":{"line":1,"column":2561}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"is3dTextureDefine","original":{"line":126,"column":43},"generated":{"line":1,"column":2575}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":127,"column":10},"generated":{"line":1,"column":2577}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"needsUpdate","original":{"line":127,"column":19},"generated":{"line":1,"column":2579}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":127,"column":33},"generated":{"line":1,"column":2592}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":130,"column":8},"generated":{"line":1,"column":2595}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":130,"column":17},"generated":{"line":1,"column":2597}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lutSize","original":{"line":130,"column":26},"generated":{"line":1,"column":2606}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":130,"column":34},"generated":{"line":1,"column":2614}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":130,"column":42},"generated":{"line":1,"column":2620}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"image","original":{"line":130,"column":44},"generated":{"line":1,"column":2622}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"width","original":{"line":130,"column":50},"generated":{"line":1,"column":2628}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":132,"column":12},"generated":{"line":1,"column":2634}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"isData3DTexture","original":{"line":132,"column":14},"generated":{"line":1,"column":2636}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":133,"column":10},"generated":{"line":1,"column":2652}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":133,"column":19},"generated":{"line":1,"column":2654}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut3d","original":{"line":133,"column":28},"generated":{"line":1,"column":2663}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":133,"column":34},"generated":{"line":1,"column":2669}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":133,"column":42},"generated":{"line":1,"column":2675}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":135,"column":10},"generated":{"line":1,"column":2677}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":135,"column":19},"generated":{"line":1,"column":2679}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut","original":{"line":135,"column":28},"generated":{"line":1,"column":2688}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":135,"column":32},"generated":{"line":1,"column":2692}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":135,"column":40},"generated":{"line":1,"column":2698}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":141,"column":2},"generated":{"line":1,"column":2701}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":142,"column":4},"generated":{"line":1,"column":2711}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":142,"column":11},"generated":{"line":1,"column":2718}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":142,"column":16},"generated":{"line":1,"column":2723}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":142,"column":25},"generated":{"line":1,"column":2732}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut","original":{"line":142,"column":34},"generated":{"line":1,"column":2741}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":142,"column":38},"generated":{"line":1,"column":2745}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":142,"column":47},"generated":{"line":1,"column":2752}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":142,"column":52},"generated":{"line":1,"column":2757}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":142,"column":61},"generated":{"line":1,"column":2766}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut3d","original":{"line":142,"column":70},"generated":{"line":1,"column":2775}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":142,"column":76},"generated":{"line":1,"column":2781}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":145,"column":2},"generated":{"line":1,"column":2787}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":145,"column":16},"generated":{"line":1,"column":2801}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":146,"column":4},"generated":{"line":1,"column":2804}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":146,"column":9},"generated":{"line":1,"column":2809}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":146,"column":18},"generated":{"line":1,"column":2818}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"intensity","original":{"line":146,"column":27},"generated":{"line":1,"column":2827}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":146,"column":37},"generated":{"line":1,"column":2837}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"v","original":{"line":146,"column":45},"generated":{"line":1,"column":2843}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":149,"column":2},"generated":{"line":1,"column":2845}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":150,"column":4},"generated":{"line":1,"column":2861}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":150,"column":11},"generated":{"line":1,"column":2868}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"material","original":{"line":150,"column":16},"generated":{"line":1,"column":2873}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"uniforms","original":{"line":150,"column":25},"generated":{"line":1,"column":2882}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"intensity","original":{"line":150,"column":34},"generated":{"line":1,"column":2891}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"value","original":{"line":150,"column":44},"generated":{"line":1,"column":2901}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"constructor","original":{"line":153,"column":2},"generated":{"line":1,"column":2907}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"options","original":{"line":153,"column":14},"generated":{"line":1,"column":2919}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":153,"column":24},"generated":{"line":1,"column":2921}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":154,"column":4},"generated":{"line":1,"column":2925}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"LUTShader","original":{"line":154,"column":10},"generated":{"line":1,"column":2931}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":155,"column":4},"generated":{"line":1,"column":2934}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut","original":{"line":155,"column":9},"generated":{"line":1,"column":2939}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"options","original":{"line":155,"column":15},"generated":{"line":1,"column":2943}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"lut","original":{"line":155,"column":23},"generated":{"line":1,"column":2945}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":155,"column":30},"generated":{"line":1,"column":2950}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":156,"column":4},"generated":{"line":1,"column":2955}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"intensity","original":{"line":156,"column":9},"generated":{"line":1,"column":2960}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":156,"column":21},"generated":{"line":1,"column":2970}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"options","original":{"line":156,"column":36},"generated":{"line":1,"column":2984}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"options","original":{"line":156,"column":46},"generated":{"line":1,"column":2986}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"intensity","original":{"line":156,"column":54},"generated":{"line":1,"column":2988}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","original":{"line":156,"column":66},"generated":{"line":1,"column":2998}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"exports","original":{"line":159,"column":1},"generated":{"line":1,"column":3001}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"LUTPass","original":{"line":159,"column":1},"generated":{"line":1,"column":3009}},{"source":"node_modules/three-stdlib/postprocessing/LUTPass.js","name":"LUTPass","original":{"line":159,"column":1},"generated":{"line":1,"column":3017}}],"sources":{"node_modules/three-stdlib/postprocessing/LUTPass.js":"import { ShaderPass } from './ShaderPass.js';\n\nconst LUTShader = {\n  defines: {\n    USE_3DTEXTURE: 1\n  },\n  uniforms: {\n    lut3d: {\n      value: null\n    },\n    lut: {\n      value: null\n    },\n    lutSize: {\n      value: 0\n    },\n    tDiffuse: {\n      value: null\n    },\n    intensity: {\n      value: 1.0\n    }\n  },\n  vertexShader:\n  /* glsl */\n  `\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}\n\n\t`,\n  fragmentShader:\n  /* glsl */\n  `\n\n\t\tuniform float lutSize;\n\t\t#if USE_3DTEXTURE\n\t\tprecision highp sampler3D;\n\t\tuniform sampler3D lut3d;\n\t\t#else\n\t\tuniform sampler2D lut;\n\n\t\tvec3 lutLookup( sampler2D tex, float size, vec3 rgb ) {\n\n\t\t\tfloat sliceHeight = 1.0 / size;\n\t\t\tfloat yPixelHeight = 1.0 / ( size * size );\n\n\t\t\t// Get the slices on either side of the sample\n\t\t\tfloat slice = rgb.b * size;\n\t\t\tfloat interp = fract( slice );\n\t\t\tfloat slice0 = slice - interp;\n\t\t\tfloat centeredInterp = interp - 0.5;\n\n\t\t\tfloat slice1 = slice0 + sign( centeredInterp );\n\n\t\t\t// Pull y sample in by half a pixel in each direction to avoid color\n\t\t\t// bleeding from adjacent slices.\n\t\t\tfloat greenOffset = clamp( rgb.g * sliceHeight, yPixelHeight * 0.5, sliceHeight - yPixelHeight * 0.5 );\n\n\t\t\tvec2 uv0 = vec2(\n\t\t\t\trgb.r,\n\t\t\t\tslice0 * sliceHeight + greenOffset\n\t\t\t);\n\t\t\tvec2 uv1 = vec2(\n\t\t\t\trgb.r,\n\t\t\t\tslice1 * sliceHeight + greenOffset\n\t\t\t);\n\n\t\t\tvec3 sample0 = texture2D( tex, uv0 ).rgb;\n\t\t\tvec3 sample1 = texture2D( tex, uv1 ).rgb;\n\n\t\t\treturn mix( sample0, sample1, abs( centeredInterp ) );\n\n\t\t}\n\t\t#endif\n\n\t\tvarying vec2 vUv;\n\t\tuniform float intensity;\n\t\tuniform sampler2D tDiffuse;\n\t\tvoid main() {\n\n\t\t\tvec4 val = texture2D( tDiffuse, vUv );\n\t\t\tvec4 lutVal;\n\n\t\t\t// pull the sample in by half a pixel so the sample begins\n\t\t\t// at the center of the edge pixels.\n\t\t\tfloat pixelWidth = 1.0 / lutSize;\n\t\t\tfloat halfPixelWidth = 0.5 / lutSize;\n\t\t\tvec3 uvw = vec3( halfPixelWidth ) + val.rgb * ( 1.0 - pixelWidth );\n\n\t\t\t#if USE_3DTEXTURE\n\n\t\t\tlutVal = vec4( texture( lut3d, uvw ).rgb, val.a );\n\n\t\t\t#else\n\n\t\t\tlutVal = vec4( lutLookup( lut, lutSize, uvw ), val.a );\n\n\t\t\t#endif\n\n\t\t\tgl_FragColor = vec4( mix( val, lutVal, intensity ) );\n\n\t\t}\n\n\t`\n};\n\nclass LUTPass extends ShaderPass {\n  set lut(v) {\n    const material = this.material;\n\n    if (v !== this.lut) {\n      material.uniforms.lut3d.value = null;\n      material.uniforms.lut.value = null;\n\n      if (v) {\n        const is3dTextureDefine = v.isData3DTexture ? 1 : 0;\n\n        if (is3dTextureDefine !== material.defines.USE_3DTEXTURE) {\n          material.defines.USE_3DTEXTURE = is3dTextureDefine;\n          material.needsUpdate = true;\n        }\n\n        material.uniforms.lutSize.value = v.image.width;\n\n        if (v.isData3DTexture) {\n          material.uniforms.lut3d.value = v;\n        } else {\n          material.uniforms.lut.value = v;\n        }\n      }\n    }\n  }\n\n  get lut() {\n    return this.material.uniforms.lut.value || this.material.uniforms.lut3d.value;\n  }\n\n  set intensity(v) {\n    this.material.uniforms.intensity.value = v;\n  }\n\n  get intensity() {\n    return this.material.uniforms.intensity.value;\n  }\n\n  constructor(options = {}) {\n    super(LUTShader);\n    this.lut = options.lut || null;\n    this.intensity = 'intensity' in options ? options.intensity : 1;\n  }\n\n}\n\nexport { LUTPass };\n"},"lineCount":null}},"error":null,"hash":"4aad6a187c2d62e57f828d0412c710ff","cacheData":{"env":{}}}